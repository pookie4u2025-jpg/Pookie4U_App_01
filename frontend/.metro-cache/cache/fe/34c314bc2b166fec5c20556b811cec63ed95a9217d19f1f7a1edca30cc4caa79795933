{"dependencies":[{"name":"./logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":37,"index":52}}],"key":"iVYhB1kviQI8ndYBeJYcuS1MqTQ=","exportNames":["*"],"imports":1}},{"name":"./WorkletsError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":53},"end":{"line":4,"column":51,"index":104}}],"key":"xVeJU8+FJmqfUKJ4PbwGpZoZhc0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.bundleValueUnpacker = bundleValueUnpacker;\n  var _loggerJs = require(_dependencyMap[0], \"./logger.js\");\n  var _WorkletsErrorJs = require(_dependencyMap[1], \"./WorkletsError.js\");\n  const handleCache = new WeakMap();\n  function bundleValueUnpacker(objectToUnpack, category, remoteFunctionName) {\n    const workletHash = objectToUnpack.__workletHash;\n    if (workletHash !== undefined) {\n      return getWorklet(workletHash, objectToUnpack.__closure);\n    } else if (objectToUnpack.__init !== undefined) {\n      let value = handleCache.get(objectToUnpack);\n      if (value === undefined) {\n        value = objectToUnpack.__init();\n        handleCache.set(objectToUnpack, value);\n      }\n      return value;\n    } else if (category === 'RemoteFunction') {\n      const remoteFunctionHolder = () => {\n        const label = remoteFunctionName ? `function \\`${remoteFunctionName}\\`` : 'anonymous function';\n        throw new _WorkletsErrorJs.WorkletsError(`Tried to synchronously call a non-worklet ${label} on the UI thread.\nSee https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#tried-to-synchronously-call-a-non-worklet-function-on-the-ui-thread for more details.`);\n      };\n      remoteFunctionHolder.__remoteFunction = objectToUnpack;\n      return remoteFunctionHolder;\n    } else {\n      throw new _WorkletsErrorJs.WorkletsError(`Data type in category \"${category}\" not recognized by value unpacker: \"${globalThis._toString(objectToUnpack)}\".`);\n    }\n  }\n  function getWorklet(workletHash, closureVariables) {\n    let worklet;\n    if (__DEV__) {\n      try {\n        worklet = getWorkletFromMetroRequire(workletHash, closureVariables);\n      } catch (_e) {\n        _loggerJs.logger.error('Unable to resolve worklet with hash ' + workletHash + '. Try reloading the app.');\n      }\n    } else {\n      worklet = getWorkletFromMetroRequire(workletHash, closureVariables);\n    }\n    return worklet;\n  }\n  const metroRequire = globalThis.__r;\n  function getWorkletFromMetroRequire(workletHash, closureVariables) {\n    const factory = metroRequire(workletHash).default;\n    return factory(closureVariables);\n  }\n});","lineCount":52,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,6,0,"exports"],[7,9,6,0],[7,10,6,0,"bundleValueUnpacker"],[7,29,6,0],[7,32,6,0,"bundleValueUnpacker"],[7,51,6,0],[8,2,3,0],[8,6,3,0,"_loggerJs"],[8,15,3,0],[8,18,3,0,"require"],[8,25,3,0],[8,26,3,0,"_dependencyMap"],[8,40,3,0],[9,2,4,0],[9,6,4,0,"_WorkletsErrorJs"],[9,22,4,0],[9,25,4,0,"require"],[9,32,4,0],[9,33,4,0,"_dependencyMap"],[9,47,4,0],[10,2,5,0],[10,8,5,6,"handleCache"],[10,19,5,17],[10,22,5,20],[10,26,5,24,"WeakMap"],[10,33,5,31],[10,34,5,32],[10,35,5,33],[11,2,6,7],[11,11,6,16,"bundleValueUnpacker"],[11,30,6,35,"bundleValueUnpacker"],[11,31,6,36,"objectToUnpack"],[11,45,6,50],[11,47,6,52,"category"],[11,55,6,60],[11,57,6,62,"remoteFunctionName"],[11,75,6,80],[11,77,6,82],[12,4,7,2],[12,10,7,8,"workletHash"],[12,21,7,19],[12,24,7,22,"objectToUnpack"],[12,38,7,36],[12,39,7,37,"__workletHash"],[12,52,7,50],[13,4,8,2],[13,8,8,6,"workletHash"],[13,19,8,17],[13,24,8,22,"undefined"],[13,33,8,31],[13,35,8,33],[14,6,9,4],[14,13,9,11,"getWorklet"],[14,23,9,21],[14,24,9,22,"workletHash"],[14,35,9,33],[14,37,9,35,"objectToUnpack"],[14,51,9,49],[14,52,9,50,"__closure"],[14,61,9,59],[14,62,9,60],[15,4,10,2],[15,5,10,3],[15,11,10,9],[15,15,10,13,"objectToUnpack"],[15,29,10,27],[15,30,10,28,"__init"],[15,36,10,34],[15,41,10,39,"undefined"],[15,50,10,48],[15,52,10,50],[16,6,11,4],[16,10,11,8,"value"],[16,15,11,13],[16,18,11,16,"handleCache"],[16,29,11,27],[16,30,11,28,"get"],[16,33,11,31],[16,34,11,32,"objectToUnpack"],[16,48,11,46],[16,49,11,47],[17,6,12,4],[17,10,12,8,"value"],[17,15,12,13],[17,20,12,18,"undefined"],[17,29,12,27],[17,31,12,29],[18,8,13,6,"value"],[18,13,13,11],[18,16,13,14,"objectToUnpack"],[18,30,13,28],[18,31,13,29,"__init"],[18,37,13,35],[18,38,13,36],[18,39,13,37],[19,8,14,6,"handleCache"],[19,19,14,17],[19,20,14,18,"set"],[19,23,14,21],[19,24,14,22,"objectToUnpack"],[19,38,14,36],[19,40,14,38,"value"],[19,45,14,43],[19,46,14,44],[20,6,15,4],[21,6,16,4],[21,13,16,11,"value"],[21,18,16,16],[22,4,17,2],[22,5,17,3],[22,11,17,9],[22,15,17,13,"category"],[22,23,17,21],[22,28,17,26],[22,44,17,42],[22,46,17,44],[23,6,18,4],[23,12,18,10,"remoteFunctionHolder"],[23,32,18,30],[23,35,18,33,"remoteFunctionHolder"],[23,36,18,33],[23,41,18,39],[24,8,19,6],[24,14,19,12,"label"],[24,19,19,17],[24,22,19,20,"remoteFunctionName"],[24,40,19,38],[24,43,19,41],[24,57,19,55,"remoteFunctionName"],[24,75,19,73],[24,79,19,77],[24,82,19,80],[24,102,19,100],[25,8,20,6],[25,14,20,12],[25,18,20,16,"WorkletsError"],[25,34,20,29],[25,35,20,29,"WorkletsError"],[25,48,20,29],[25,49,20,30],[25,94,20,75,"label"],[25,99,20,80],[26,0,21,0],[26,169,21,169],[26,170,21,170],[27,6,22,4],[27,7,22,5],[28,6,23,4,"remoteFunctionHolder"],[28,26,23,24],[28,27,23,25,"__remoteFunction"],[28,43,23,41],[28,46,23,44,"objectToUnpack"],[28,60,23,58],[29,6,24,4],[29,13,24,11,"remoteFunctionHolder"],[29,33,24,31],[30,4,25,2],[30,5,25,3],[30,11,25,9],[31,6,26,4],[31,12,26,10],[31,16,26,14,"WorkletsError"],[31,32,26,27],[31,33,26,27,"WorkletsError"],[31,46,26,27],[31,47,26,28],[31,73,26,54,"category"],[31,81,26,62],[31,121,26,102,"globalThis"],[31,131,26,112],[31,132,26,113,"_toString"],[31,141,26,122],[31,142,26,123,"objectToUnpack"],[31,156,26,137],[31,157,26,138],[31,161,26,142],[31,162,26,143],[32,4,27,2],[33,2,28,0],[34,2,29,0],[34,11,29,9,"getWorklet"],[34,21,29,19,"getWorklet"],[34,22,29,20,"workletHash"],[34,33,29,31],[34,35,29,33,"closureVariables"],[34,51,29,49],[34,53,29,51],[35,4,30,2],[35,8,30,6,"worklet"],[35,15,30,13],[36,4,31,2],[36,8,31,6,"__DEV__"],[36,15,31,13],[36,17,31,15],[37,6,32,4],[37,10,32,8],[38,8,33,6,"worklet"],[38,15,33,13],[38,18,33,16,"getWorkletFromMetroRequire"],[38,44,33,42],[38,45,33,43,"workletHash"],[38,56,33,54],[38,58,33,56,"closureVariables"],[38,74,33,72],[38,75,33,73],[39,6,34,4],[39,7,34,5],[39,8,34,6],[39,15,34,13,"_e"],[39,17,34,15],[39,19,34,17],[40,8,35,6,"logger"],[40,17,35,12],[40,18,35,12,"logger"],[40,24,35,12],[40,25,35,13,"error"],[40,30,35,18],[40,31,35,19],[40,69,35,57],[40,72,35,60,"workletHash"],[40,83,35,71],[40,86,35,74],[40,112,35,100],[40,113,35,101],[41,6,36,4],[42,4,37,2],[42,5,37,3],[42,11,37,9],[43,6,38,4,"worklet"],[43,13,38,11],[43,16,38,14,"getWorkletFromMetroRequire"],[43,42,38,40],[43,43,38,41,"workletHash"],[43,54,38,52],[43,56,38,54,"closureVariables"],[43,72,38,70],[43,73,38,71],[44,4,39,2],[45,4,40,2],[45,11,40,9,"worklet"],[45,18,40,16],[46,2,41,0],[47,2,42,0],[47,8,42,6,"metroRequire"],[47,20,42,18],[47,23,42,21,"globalThis"],[47,33,42,31],[47,34,42,32,"__r"],[47,37,42,35],[48,2,43,0],[48,11,43,9,"getWorkletFromMetroRequire"],[48,37,43,35,"getWorkletFromMetroRequire"],[48,38,43,36,"workletHash"],[48,49,43,47],[48,51,43,49,"closureVariables"],[48,67,43,65],[48,69,43,67],[49,4,44,2],[49,10,44,8,"factory"],[49,17,44,15],[49,20,44,18,"metroRequire"],[49,32,44,30],[49,33,44,31,"workletHash"],[49,44,44,42],[49,45,44,43],[49,46,44,44,"default"],[49,53,44,51],[50,4,45,2],[50,11,45,9,"factory"],[50,18,45,16],[50,19,45,17,"closureVariables"],[50,35,45,33],[50,36,45,34],[51,2,46,0],[52,0,46,1],[52,3]],"functionMap":{"names":["<global>","bundleValueUnpacker","remoteFunctionHolder","getWorklet","getWorkletFromMetroRequire"],"mappings":"AAA;OCK;iCCY;KDI;CDM;AGC;CHY;AIE;CJG"},"hasCjsExports":false},"type":"js/module"}]}