{"dependencies":[{"name":"../animation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":49,"index":64}}],"key":"a6n75g9KQy+KnMEjz15YzADQ7Hw=","exportNames":["*"],"imports":1}},{"name":"../isSharedValue","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":65},"end":{"line":4,"column":49,"index":114}}],"key":"+wsZ4vw3n7k5+siJvCyq73LAhFk=","exportNames":["*"],"imports":1}},{"name":"../WorkletEventHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":115},"end":{"line":5,"column":61,"index":176}}],"key":"588C2ttWmFfH+Cx2zV7Dtb/CLj8=","exportNames":["*"],"imports":1}},{"name":"./InlinePropManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":177},"end":{"line":6,"column":70,"index":247}}],"key":"VvCec8CoZixmXg+r1z4csYmUpDk=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":248},"end":{"line":7,"column":44,"index":292}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"PropsFilter\", {\n    enumerable: true,\n    get: function () {\n      return PropsFilter;\n    }\n  });\n  var _animation = require(_dependencyMap[0], \"../animation\");\n  var _isSharedValue = require(_dependencyMap[1], \"../isSharedValue\");\n  var _WorkletEventHandler = require(_dependencyMap[2], \"../WorkletEventHandler\");\n  var _InlinePropManager = require(_dependencyMap[3], \"./InlinePropManager\");\n  var _utils = require(_dependencyMap[4], \"./utils\");\n  function dummyListener() {\n    // empty listener we use to assign to listener properties for which animated\n    // event is used.\n  }\n  class PropsFilter {\n    _initialPropsMap = new Map();\n    filterNonAnimatedProps(component) {\n      const inputProps = component.props;\n      const props = {};\n      for (const key in inputProps) {\n        const value = inputProps[key];\n        if (key === 'style') {\n          const styleProp = inputProps.style;\n          const styles = (0, _utils.flattenArray)(styleProp ?? []);\n          const processedStyle = styles.map(style => {\n            if (style?.viewDescriptors) {\n              const handle = style;\n              if (component._isFirstRender) {\n                this._initialPropsMap.set(handle, Object.assign({}, handle.initial.value, (0, _animation.initialUpdaterRun)(handle.initial.updater)));\n              }\n              return this._initialPropsMap.get(handle) ?? {};\n            } else if ((0, _InlinePropManager.hasInlineStyles)(style)) {\n              return (0, _InlinePropManager.getInlineStyle)(style, component._isFirstRender);\n            } else {\n              return style;\n            }\n          });\n          // keep styles as they were passed by the user\n          // it will help other libs to interpret styles correctly\n          props[key] = processedStyle;\n        } else if (key === 'animatedProps') {\n          const animatedPropsProp = inputProps.animatedProps;\n          const animatedPropsArray = (0, _utils.flattenArray)(animatedPropsProp ?? []);\n          animatedPropsArray.forEach(animatedProps => {\n            if (animatedProps?.viewDescriptors && animatedProps.initial) {\n              Object.keys(animatedProps.initial.value).forEach(initialValueKey => {\n                props[initialValueKey] = animatedProps.initial?.value[initialValueKey];\n              });\n            }\n          });\n        } else if ((0, _utils.has)('workletEventHandler', value) && value.workletEventHandler instanceof _WorkletEventHandler.WorkletEventHandler) {\n          if (value.workletEventHandler.eventNames.length > 0) {\n            value.workletEventHandler.eventNames.forEach(eventName => {\n              props[eventName] = (0, _utils.has)('listeners', value.workletEventHandler) ? value.workletEventHandler.listeners[eventName] : dummyListener;\n            });\n          } else {\n            props[key] = dummyListener;\n          }\n        } else if ((0, _isSharedValue.isSharedValue)(value)) {\n          if (component._isFirstRender) {\n            props[key] = value.value;\n          }\n        } else {\n          props[key] = value;\n        }\n      }\n      return props;\n    }\n  }\n});","lineCount":77,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"enumerable"],[8,14,12,0],[9,4,12,0,"get"],[9,7,12,0],[9,18,12,0,"get"],[9,19,12,0],[10,6,12,0],[10,13,12,0,"PropsFilter"],[10,24,12,0],[11,4,12,0],[12,2,12,0],[13,2,3,0],[13,6,3,0,"_animation"],[13,16,3,0],[13,19,3,0,"require"],[13,26,3,0],[13,27,3,0,"_dependencyMap"],[13,41,3,0],[14,2,4,0],[14,6,4,0,"_isSharedValue"],[14,20,4,0],[14,23,4,0,"require"],[14,30,4,0],[14,31,4,0,"_dependencyMap"],[14,45,4,0],[15,2,5,0],[15,6,5,0,"_WorkletEventHandler"],[15,26,5,0],[15,29,5,0,"require"],[15,36,5,0],[15,37,5,0,"_dependencyMap"],[15,51,5,0],[16,2,6,0],[16,6,6,0,"_InlinePropManager"],[16,24,6,0],[16,27,6,0,"require"],[16,34,6,0],[16,35,6,0,"_dependencyMap"],[16,49,6,0],[17,2,7,0],[17,6,7,0,"_utils"],[17,12,7,0],[17,15,7,0,"require"],[17,22,7,0],[17,23,7,0,"_dependencyMap"],[17,37,7,0],[18,2,8,0],[18,11,8,9,"dummyListener"],[18,24,8,22,"dummyListener"],[18,25,8,22],[18,27,8,25],[19,4,9,2],[20,4,10,2],[21,2,10,2],[22,2,12,7],[22,8,12,13,"PropsFilter"],[22,19,12,24],[22,20,12,25],[23,4,13,2,"_initialPropsMap"],[23,20,13,18],[23,23,13,21],[23,27,13,25,"Map"],[23,30,13,28],[23,31,13,29],[23,32,13,30],[24,4,14,2,"filterNonAnimatedProps"],[24,26,14,24,"filterNonAnimatedProps"],[24,27,14,25,"component"],[24,36,14,34],[24,38,14,36],[25,6,15,4],[25,12,15,10,"inputProps"],[25,22,15,20],[25,25,15,23,"component"],[25,34,15,32],[25,35,15,33,"props"],[25,40,15,38],[26,6,16,4],[26,12,16,10,"props"],[26,17,16,15],[26,20,16,18],[26,21,16,19],[26,22,16,20],[27,6,17,4],[27,11,17,9],[27,17,17,15,"key"],[27,20,17,18],[27,24,17,22,"inputProps"],[27,34,17,32],[27,36,17,34],[28,8,18,6],[28,14,18,12,"value"],[28,19,18,17],[28,22,18,20,"inputProps"],[28,32,18,30],[28,33,18,31,"key"],[28,36,18,34],[28,37,18,35],[29,8,19,6],[29,12,19,10,"key"],[29,15,19,13],[29,20,19,18],[29,27,19,25],[29,29,19,27],[30,10,20,8],[30,16,20,14,"styleProp"],[30,25,20,23],[30,28,20,26,"inputProps"],[30,38,20,36],[30,39,20,37,"style"],[30,44,20,42],[31,10,21,8],[31,16,21,14,"styles"],[31,22,21,20],[31,25,21,23],[31,29,21,23,"flattenArray"],[31,35,21,35],[31,36,21,35,"flattenArray"],[31,48,21,35],[31,50,21,36,"styleProp"],[31,59,21,45],[31,63,21,49],[31,65,21,51],[31,66,21,52],[32,10,22,8],[32,16,22,14,"processedStyle"],[32,30,22,28],[32,33,22,31,"styles"],[32,39,22,37],[32,40,22,38,"map"],[32,43,22,41],[32,44,22,42,"style"],[32,49,22,47],[32,53,22,51],[33,12,23,10],[33,16,23,14,"style"],[33,21,23,19],[33,23,23,21,"viewDescriptors"],[33,38,23,36],[33,40,23,38],[34,14,24,12],[34,20,24,18,"handle"],[34,26,24,24],[34,29,24,27,"style"],[34,34,24,32],[35,14,25,12],[35,18,25,16,"component"],[35,27,25,25],[35,28,25,26,"_isFirstRender"],[35,42,25,40],[35,44,25,42],[36,16,26,14],[36,20,26,18],[36,21,26,19,"_initialPropsMap"],[36,37,26,35],[36,38,26,36,"set"],[36,41,26,39],[36,42,26,40,"handle"],[36,48,26,46],[36,50,26,46,"Object"],[36,56,26,46],[36,57,26,46,"assign"],[36,63,26,46],[36,68,27,19,"handle"],[36,74,27,25],[36,75,27,26,"initial"],[36,82,27,33],[36,83,27,34,"value"],[36,88,27,39],[36,90,28,19],[36,94,28,19,"initialUpdaterRun"],[36,104,28,36],[36,105,28,36,"initialUpdaterRun"],[36,122,28,36],[36,124,28,37,"handle"],[36,130,28,43],[36,131,28,44,"initial"],[36,138,28,51],[36,139,28,52,"updater"],[36,146,28,59],[36,147,28,60],[36,148,29,15],[36,149,29,16],[37,14,30,12],[38,14,31,12],[38,21,31,19],[38,25,31,23],[38,26,31,24,"_initialPropsMap"],[38,42,31,40],[38,43,31,41,"get"],[38,46,31,44],[38,47,31,45,"handle"],[38,53,31,51],[38,54,31,52],[38,58,31,56],[38,59,31,57],[38,60,31,58],[39,12,32,10],[39,13,32,11],[39,19,32,17],[39,23,32,21],[39,27,32,21,"hasInlineStyles"],[39,45,32,36],[39,46,32,36,"hasInlineStyles"],[39,61,32,36],[39,63,32,37,"style"],[39,68,32,42],[39,69,32,43],[39,71,32,45],[40,14,33,12],[40,21,33,19],[40,25,33,19,"getInlineStyle"],[40,43,33,33],[40,44,33,33,"getInlineStyle"],[40,58,33,33],[40,60,33,34,"style"],[40,65,33,39],[40,67,33,41,"component"],[40,76,33,50],[40,77,33,51,"_isFirstRender"],[40,91,33,65],[40,92,33,66],[41,12,34,10],[41,13,34,11],[41,19,34,17],[42,14,35,12],[42,21,35,19,"style"],[42,26,35,24],[43,12,36,10],[44,10,37,8],[44,11,37,9],[44,12,37,10],[45,10,38,8],[46,10,39,8],[47,10,40,8,"props"],[47,15,40,13],[47,16,40,14,"key"],[47,19,40,17],[47,20,40,18],[47,23,40,21,"processedStyle"],[47,37,40,35],[48,8,41,6],[48,9,41,7],[48,15,41,13],[48,19,41,17,"key"],[48,22,41,20],[48,27,41,25],[48,42,41,40],[48,44,41,42],[49,10,42,8],[49,16,42,14,"animatedPropsProp"],[49,33,42,31],[49,36,42,34,"inputProps"],[49,46,42,44],[49,47,42,45,"animatedProps"],[49,60,42,58],[50,10,43,8],[50,16,43,14,"animatedPropsArray"],[50,34,43,32],[50,37,43,35],[50,41,43,35,"flattenArray"],[50,47,43,47],[50,48,43,47,"flattenArray"],[50,60,43,47],[50,62,43,48,"animatedPropsProp"],[50,79,43,65],[50,83,43,69],[50,85,43,71],[50,86,43,72],[51,10,44,8,"animatedPropsArray"],[51,28,44,26],[51,29,44,27,"forEach"],[51,36,44,34],[51,37,44,35,"animatedProps"],[51,50,44,48],[51,54,44,52],[52,12,45,10],[52,16,45,14,"animatedProps"],[52,29,45,27],[52,31,45,29,"viewDescriptors"],[52,46,45,44],[52,50,45,48,"animatedProps"],[52,63,45,61],[52,64,45,62,"initial"],[52,71,45,69],[52,73,45,71],[53,14,46,12,"Object"],[53,20,46,18],[53,21,46,19,"keys"],[53,25,46,23],[53,26,46,24,"animatedProps"],[53,39,46,37],[53,40,46,38,"initial"],[53,47,46,45],[53,48,46,46,"value"],[53,53,46,51],[53,54,46,52],[53,55,46,53,"forEach"],[53,62,46,60],[53,63,46,61,"initialValueKey"],[53,78,46,76],[53,82,46,80],[54,16,47,14,"props"],[54,21,47,19],[54,22,47,20,"initialValueKey"],[54,37,47,35],[54,38,47,36],[54,41,47,39,"animatedProps"],[54,54,47,52],[54,55,47,53,"initial"],[54,62,47,60],[54,64,47,62,"value"],[54,69,47,67],[54,70,47,68,"initialValueKey"],[54,85,47,83],[54,86,47,84],[55,14,48,12],[55,15,48,13],[55,16,48,14],[56,12,49,10],[57,10,50,8],[57,11,50,9],[57,12,50,10],[58,8,51,6],[58,9,51,7],[58,15,51,13],[58,19,51,17],[58,23,51,17,"has"],[58,29,51,20],[58,30,51,20,"has"],[58,33,51,20],[58,35,51,21],[58,56,51,42],[58,58,51,44,"value"],[58,63,51,49],[58,64,51,50],[58,68,51,54,"value"],[58,73,51,59],[58,74,51,60,"workletEventHandler"],[58,93,51,79],[58,105,51,91,"WorkletEventHandler"],[58,125,51,110],[58,126,51,110,"WorkletEventHandler"],[58,145,51,110],[58,147,51,112],[59,10,52,8],[59,14,52,12,"value"],[59,19,52,17],[59,20,52,18,"workletEventHandler"],[59,39,52,37],[59,40,52,38,"eventNames"],[59,50,52,48],[59,51,52,49,"length"],[59,57,52,55],[59,60,52,58],[59,61,52,59],[59,63,52,61],[60,12,53,10,"value"],[60,17,53,15],[60,18,53,16,"workletEventHandler"],[60,37,53,35],[60,38,53,36,"eventNames"],[60,48,53,46],[60,49,53,47,"forEach"],[60,56,53,54],[60,57,53,55,"eventName"],[60,66,53,64],[60,70,53,68],[61,14,54,12,"props"],[61,19,54,17],[61,20,54,18,"eventName"],[61,29,54,27],[61,30,54,28],[61,33,54,31],[61,37,54,31,"has"],[61,43,54,34],[61,44,54,34,"has"],[61,47,54,34],[61,49,54,35],[61,60,54,46],[61,62,54,48,"value"],[61,67,54,53],[61,68,54,54,"workletEventHandler"],[61,87,54,73],[61,88,54,74],[61,91,54,77,"value"],[61,96,54,82],[61,97,54,83,"workletEventHandler"],[61,116,54,102],[61,117,54,103,"listeners"],[61,126,54,112],[61,127,54,113,"eventName"],[61,136,54,122],[61,137,54,123],[61,140,54,126,"dummyListener"],[61,153,54,139],[62,12,55,10],[62,13,55,11],[62,14,55,12],[63,10,56,8],[63,11,56,9],[63,17,56,15],[64,12,57,10,"props"],[64,17,57,15],[64,18,57,16,"key"],[64,21,57,19],[64,22,57,20],[64,25,57,23,"dummyListener"],[64,38,57,36],[65,10,58,8],[66,8,59,6],[66,9,59,7],[66,15,59,13],[66,19,59,17],[66,23,59,17,"isSharedValue"],[66,37,59,30],[66,38,59,30,"isSharedValue"],[66,51,59,30],[66,53,59,31,"value"],[66,58,59,36],[66,59,59,37],[66,61,59,39],[67,10,60,8],[67,14,60,12,"component"],[67,23,60,21],[67,24,60,22,"_isFirstRender"],[67,38,60,36],[67,40,60,38],[68,12,61,10,"props"],[68,17,61,15],[68,18,61,16,"key"],[68,21,61,19],[68,22,61,20],[68,25,61,23,"value"],[68,30,61,28],[68,31,61,29,"value"],[68,36,61,34],[69,10,62,8],[70,8,63,6],[70,9,63,7],[70,15,63,13],[71,10,64,8,"props"],[71,15,64,13],[71,16,64,14,"key"],[71,19,64,17],[71,20,64,18],[71,23,64,21,"value"],[71,28,64,26],[72,8,65,6],[73,6,66,4],[74,6,67,4],[74,13,67,11,"props"],[74,18,67,16],[75,4,68,2],[76,2,69,0],[77,0,69,1],[77,3]],"functionMap":{"names":["<global>","dummyListener","PropsFilter","filterNonAnimatedProps","styles.map$argument_0","animatedPropsArray.forEach$argument_0","Object.keys.forEach$argument_0","value.workletEventHandler.eventNames.forEach$argument_0"],"mappings":"AAA;ACO;CDG;OEC;ECE;0CCQ;SDe;mCEO;6DCE;aDE;SFE;uDIG;WJE;GDa;CFC"},"hasCjsExports":false},"type":"js/module"}]}