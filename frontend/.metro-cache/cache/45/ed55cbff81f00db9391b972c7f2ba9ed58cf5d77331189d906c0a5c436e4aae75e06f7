{"dependencies":[{"name":"../animation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":49,"index":64}}],"key":"a6n75g9KQy+KnMEjz15YzADQ7Hw=","exportNames":["*"],"imports":1}},{"name":"../isSharedValue","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":65},"end":{"line":4,"column":49,"index":114}}],"key":"+wsZ4vw3n7k5+siJvCyq73LAhFk=","exportNames":["*"],"imports":1}},{"name":"../WorkletEventHandler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":115},"end":{"line":5,"column":61,"index":176}}],"key":"588C2ttWmFfH+Cx2zV7Dtb/CLj8=","exportNames":["*"],"imports":1}},{"name":"./InlinePropManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":177},"end":{"line":6,"column":70,"index":247}}],"key":"VvCec8CoZixmXg+r1z4csYmUpDk=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":248},"end":{"line":7,"column":44,"index":292}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"PropsFilter\", {\n    enumerable: true,\n    get: function () {\n      return PropsFilter;\n    }\n  });\n  var _animation = require(_dependencyMap[0], \"../animation\");\n  var _isSharedValue = require(_dependencyMap[1], \"../isSharedValue\");\n  var _WorkletEventHandler = require(_dependencyMap[2], \"../WorkletEventHandler\");\n  var _InlinePropManager = require(_dependencyMap[3], \"./InlinePropManager\");\n  var _utils = require(_dependencyMap[4], \"./utils\");\n  function dummyListener() {\n    // empty listener we use to assign to listener properties for which animated\n    // event is used.\n  }\n  class PropsFilter {\n    _initialPropsMap = new Map();\n    filterNonAnimatedProps(component) {\n      const inputProps = component.props;\n      const props = {};\n      for (const key in inputProps) {\n        const value = inputProps[key];\n        if (key === 'style') {\n          const styleProp = inputProps.style;\n          const styles = (0, _utils.flattenArray)(styleProp ?? []);\n          const processedStyle = styles.map(style => {\n            if (style?.viewDescriptors) {\n              const handle = style;\n              if (component._isFirstRender) {\n                this._initialPropsMap.set(handle, {\n                  ...handle.initial.value,\n                  ...(0, _animation.initialUpdaterRun)(handle.initial.updater)\n                });\n              }\n              return this._initialPropsMap.get(handle) ?? {};\n            } else if ((0, _InlinePropManager.hasInlineStyles)(style)) {\n              return (0, _InlinePropManager.getInlineStyle)(style, component._isFirstRender);\n            } else {\n              return style;\n            }\n          });\n          // keep styles as they were passed by the user\n          // it will help other libs to interpret styles correctly\n          props[key] = processedStyle;\n        } else if (key === 'animatedProps') {\n          const animatedPropsProp = inputProps.animatedProps;\n          const animatedPropsArray = (0, _utils.flattenArray)(animatedPropsProp ?? []);\n          animatedPropsArray.forEach(animatedProps => {\n            if (animatedProps?.viewDescriptors && animatedProps.initial) {\n              Object.keys(animatedProps.initial.value).forEach(initialValueKey => {\n                props[initialValueKey] = animatedProps.initial?.value[initialValueKey];\n              });\n            }\n          });\n        } else if ((0, _utils.has)('workletEventHandler', value) && value.workletEventHandler instanceof _WorkletEventHandler.WorkletEventHandler) {\n          if (value.workletEventHandler.eventNames.length > 0) {\n            value.workletEventHandler.eventNames.forEach(eventName => {\n              props[eventName] = (0, _utils.has)('listeners', value.workletEventHandler) ? value.workletEventHandler.listeners[eventName] : dummyListener;\n            });\n          } else {\n            props[key] = dummyListener;\n          }\n        } else if ((0, _isSharedValue.isSharedValue)(value)) {\n          if (component._isFirstRender) {\n            props[key] = value.value;\n          }\n        } else {\n          props[key] = value;\n        }\n      }\n      return props;\n    }\n  }\n});","lineCount":80,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"enumerable"],[8,14,12,0],[9,4,12,0,"get"],[9,7,12,0],[9,18,12,0,"get"],[9,19,12,0],[10,6,12,0],[10,13,12,0,"PropsFilter"],[10,24,12,0],[11,4,12,0],[12,2,12,0],[13,2,3,0],[13,6,3,0,"_animation"],[13,16,3,0],[13,19,3,0,"require"],[13,26,3,0],[13,27,3,0,"_dependencyMap"],[13,41,3,0],[14,2,4,0],[14,6,4,0,"_isSharedValue"],[14,20,4,0],[14,23,4,0,"require"],[14,30,4,0],[14,31,4,0,"_dependencyMap"],[14,45,4,0],[15,2,5,0],[15,6,5,0,"_WorkletEventHandler"],[15,26,5,0],[15,29,5,0,"require"],[15,36,5,0],[15,37,5,0,"_dependencyMap"],[15,51,5,0],[16,2,6,0],[16,6,6,0,"_InlinePropManager"],[16,24,6,0],[16,27,6,0,"require"],[16,34,6,0],[16,35,6,0,"_dependencyMap"],[16,49,6,0],[17,2,7,0],[17,6,7,0,"_utils"],[17,12,7,0],[17,15,7,0,"require"],[17,22,7,0],[17,23,7,0,"_dependencyMap"],[17,37,7,0],[18,2,8,0],[18,11,8,9,"dummyListener"],[18,24,8,22,"dummyListener"],[18,25,8,22],[18,27,8,25],[19,4,9,2],[20,4,10,2],[21,2,10,2],[22,2,12,7],[22,8,12,13,"PropsFilter"],[22,19,12,24],[22,20,12,25],[23,4,13,2,"_initialPropsMap"],[23,20,13,18],[23,23,13,21],[23,27,13,25,"Map"],[23,30,13,28],[23,31,13,29],[23,32,13,30],[24,4,14,2,"filterNonAnimatedProps"],[24,26,14,24,"filterNonAnimatedProps"],[24,27,14,25,"component"],[24,36,14,34],[24,38,14,36],[25,6,15,4],[25,12,15,10,"inputProps"],[25,22,15,20],[25,25,15,23,"component"],[25,34,15,32],[25,35,15,33,"props"],[25,40,15,38],[26,6,16,4],[26,12,16,10,"props"],[26,17,16,15],[26,20,16,18],[26,21,16,19],[26,22,16,20],[27,6,17,4],[27,11,17,9],[27,17,17,15,"key"],[27,20,17,18],[27,24,17,22,"inputProps"],[27,34,17,32],[27,36,17,34],[28,8,18,6],[28,14,18,12,"value"],[28,19,18,17],[28,22,18,20,"inputProps"],[28,32,18,30],[28,33,18,31,"key"],[28,36,18,34],[28,37,18,35],[29,8,19,6],[29,12,19,10,"key"],[29,15,19,13],[29,20,19,18],[29,27,19,25],[29,29,19,27],[30,10,20,8],[30,16,20,14,"styleProp"],[30,25,20,23],[30,28,20,26,"inputProps"],[30,38,20,36],[30,39,20,37,"style"],[30,44,20,42],[31,10,21,8],[31,16,21,14,"styles"],[31,22,21,20],[31,25,21,23],[31,29,21,23,"flattenArray"],[31,35,21,35],[31,36,21,35,"flattenArray"],[31,48,21,35],[31,50,21,36,"styleProp"],[31,59,21,45],[31,63,21,49],[31,65,21,51],[31,66,21,52],[32,10,22,8],[32,16,22,14,"processedStyle"],[32,30,22,28],[32,33,22,31,"styles"],[32,39,22,37],[32,40,22,38,"map"],[32,43,22,41],[32,44,22,42,"style"],[32,49,22,47],[32,53,22,51],[33,12,23,10],[33,16,23,14,"style"],[33,21,23,19],[33,23,23,21,"viewDescriptors"],[33,38,23,36],[33,40,23,38],[34,14,24,12],[34,20,24,18,"handle"],[34,26,24,24],[34,29,24,27,"style"],[34,34,24,32],[35,14,25,12],[35,18,25,16,"component"],[35,27,25,25],[35,28,25,26,"_isFirstRender"],[35,42,25,40],[35,44,25,42],[36,16,26,14],[36,20,26,18],[36,21,26,19,"_initialPropsMap"],[36,37,26,35],[36,38,26,36,"set"],[36,41,26,39],[36,42,26,40,"handle"],[36,48,26,46],[36,50,26,48],[37,18,27,16],[37,21,27,19,"handle"],[37,27,27,25],[37,28,27,26,"initial"],[37,35,27,33],[37,36,27,34,"value"],[37,41,27,39],[38,18,28,16],[38,21,28,19],[38,25,28,19,"initialUpdaterRun"],[38,35,28,36],[38,36,28,36,"initialUpdaterRun"],[38,53,28,36],[38,55,28,37,"handle"],[38,61,28,43],[38,62,28,44,"initial"],[38,69,28,51],[38,70,28,52,"updater"],[38,77,28,59],[39,16,29,14],[39,17,29,15],[39,18,29,16],[40,14,30,12],[41,14,31,12],[41,21,31,19],[41,25,31,23],[41,26,31,24,"_initialPropsMap"],[41,42,31,40],[41,43,31,41,"get"],[41,46,31,44],[41,47,31,45,"handle"],[41,53,31,51],[41,54,31,52],[41,58,31,56],[41,59,31,57],[41,60,31,58],[42,12,32,10],[42,13,32,11],[42,19,32,17],[42,23,32,21],[42,27,32,21,"hasInlineStyles"],[42,45,32,36],[42,46,32,36,"hasInlineStyles"],[42,61,32,36],[42,63,32,37,"style"],[42,68,32,42],[42,69,32,43],[42,71,32,45],[43,14,33,12],[43,21,33,19],[43,25,33,19,"getInlineStyle"],[43,43,33,33],[43,44,33,33,"getInlineStyle"],[43,58,33,33],[43,60,33,34,"style"],[43,65,33,39],[43,67,33,41,"component"],[43,76,33,50],[43,77,33,51,"_isFirstRender"],[43,91,33,65],[43,92,33,66],[44,12,34,10],[44,13,34,11],[44,19,34,17],[45,14,35,12],[45,21,35,19,"style"],[45,26,35,24],[46,12,36,10],[47,10,37,8],[47,11,37,9],[47,12,37,10],[48,10,38,8],[49,10,39,8],[50,10,40,8,"props"],[50,15,40,13],[50,16,40,14,"key"],[50,19,40,17],[50,20,40,18],[50,23,40,21,"processedStyle"],[50,37,40,35],[51,8,41,6],[51,9,41,7],[51,15,41,13],[51,19,41,17,"key"],[51,22,41,20],[51,27,41,25],[51,42,41,40],[51,44,41,42],[52,10,42,8],[52,16,42,14,"animatedPropsProp"],[52,33,42,31],[52,36,42,34,"inputProps"],[52,46,42,44],[52,47,42,45,"animatedProps"],[52,60,42,58],[53,10,43,8],[53,16,43,14,"animatedPropsArray"],[53,34,43,32],[53,37,43,35],[53,41,43,35,"flattenArray"],[53,47,43,47],[53,48,43,47,"flattenArray"],[53,60,43,47],[53,62,43,48,"animatedPropsProp"],[53,79,43,65],[53,83,43,69],[53,85,43,71],[53,86,43,72],[54,10,44,8,"animatedPropsArray"],[54,28,44,26],[54,29,44,27,"forEach"],[54,36,44,34],[54,37,44,35,"animatedProps"],[54,50,44,48],[54,54,44,52],[55,12,45,10],[55,16,45,14,"animatedProps"],[55,29,45,27],[55,31,45,29,"viewDescriptors"],[55,46,45,44],[55,50,45,48,"animatedProps"],[55,63,45,61],[55,64,45,62,"initial"],[55,71,45,69],[55,73,45,71],[56,14,46,12,"Object"],[56,20,46,18],[56,21,46,19,"keys"],[56,25,46,23],[56,26,46,24,"animatedProps"],[56,39,46,37],[56,40,46,38,"initial"],[56,47,46,45],[56,48,46,46,"value"],[56,53,46,51],[56,54,46,52],[56,55,46,53,"forEach"],[56,62,46,60],[56,63,46,61,"initialValueKey"],[56,78,46,76],[56,82,46,80],[57,16,47,14,"props"],[57,21,47,19],[57,22,47,20,"initialValueKey"],[57,37,47,35],[57,38,47,36],[57,41,47,39,"animatedProps"],[57,54,47,52],[57,55,47,53,"initial"],[57,62,47,60],[57,64,47,62,"value"],[57,69,47,67],[57,70,47,68,"initialValueKey"],[57,85,47,83],[57,86,47,84],[58,14,48,12],[58,15,48,13],[58,16,48,14],[59,12,49,10],[60,10,50,8],[60,11,50,9],[60,12,50,10],[61,8,51,6],[61,9,51,7],[61,15,51,13],[61,19,51,17],[61,23,51,17,"has"],[61,29,51,20],[61,30,51,20,"has"],[61,33,51,20],[61,35,51,21],[61,56,51,42],[61,58,51,44,"value"],[61,63,51,49],[61,64,51,50],[61,68,51,54,"value"],[61,73,51,59],[61,74,51,60,"workletEventHandler"],[61,93,51,79],[61,105,51,91,"WorkletEventHandler"],[61,125,51,110],[61,126,51,110,"WorkletEventHandler"],[61,145,51,110],[61,147,51,112],[62,10,52,8],[62,14,52,12,"value"],[62,19,52,17],[62,20,52,18,"workletEventHandler"],[62,39,52,37],[62,40,52,38,"eventNames"],[62,50,52,48],[62,51,52,49,"length"],[62,57,52,55],[62,60,52,58],[62,61,52,59],[62,63,52,61],[63,12,53,10,"value"],[63,17,53,15],[63,18,53,16,"workletEventHandler"],[63,37,53,35],[63,38,53,36,"eventNames"],[63,48,53,46],[63,49,53,47,"forEach"],[63,56,53,54],[63,57,53,55,"eventName"],[63,66,53,64],[63,70,53,68],[64,14,54,12,"props"],[64,19,54,17],[64,20,54,18,"eventName"],[64,29,54,27],[64,30,54,28],[64,33,54,31],[64,37,54,31,"has"],[64,43,54,34],[64,44,54,34,"has"],[64,47,54,34],[64,49,54,35],[64,60,54,46],[64,62,54,48,"value"],[64,67,54,53],[64,68,54,54,"workletEventHandler"],[64,87,54,73],[64,88,54,74],[64,91,54,77,"value"],[64,96,54,82],[64,97,54,83,"workletEventHandler"],[64,116,54,102],[64,117,54,103,"listeners"],[64,126,54,112],[64,127,54,113,"eventName"],[64,136,54,122],[64,137,54,123],[64,140,54,126,"dummyListener"],[64,153,54,139],[65,12,55,10],[65,13,55,11],[65,14,55,12],[66,10,56,8],[66,11,56,9],[66,17,56,15],[67,12,57,10,"props"],[67,17,57,15],[67,18,57,16,"key"],[67,21,57,19],[67,22,57,20],[67,25,57,23,"dummyListener"],[67,38,57,36],[68,10,58,8],[69,8,59,6],[69,9,59,7],[69,15,59,13],[69,19,59,17],[69,23,59,17,"isSharedValue"],[69,37,59,30],[69,38,59,30,"isSharedValue"],[69,51,59,30],[69,53,59,31,"value"],[69,58,59,36],[69,59,59,37],[69,61,59,39],[70,10,60,8],[70,14,60,12,"component"],[70,23,60,21],[70,24,60,22,"_isFirstRender"],[70,38,60,36],[70,40,60,38],[71,12,61,10,"props"],[71,17,61,15],[71,18,61,16,"key"],[71,21,61,19],[71,22,61,20],[71,25,61,23,"value"],[71,30,61,28],[71,31,61,29,"value"],[71,36,61,34],[72,10,62,8],[73,8,63,6],[73,9,63,7],[73,15,63,13],[74,10,64,8,"props"],[74,15,64,13],[74,16,64,14,"key"],[74,19,64,17],[74,20,64,18],[74,23,64,21,"value"],[74,28,64,26],[75,8,65,6],[76,6,66,4],[77,6,67,4],[77,13,67,11,"props"],[77,18,67,16],[78,4,68,2],[79,2,69,0],[80,0,69,1],[80,3]],"functionMap":{"names":["<global>","dummyListener","PropsFilter","filterNonAnimatedProps","styles.map$argument_0","animatedPropsArray.forEach$argument_0","Object.keys.forEach$argument_0","value.workletEventHandler.eventNames.forEach$argument_0"],"mappings":"AAA;ACO;CDG;OEC;ECE;0CCQ;SDe;mCEO;6DCE;aDE;SFE;uDIG;WJE;GDa;CFC"},"hasCjsExports":false},"type":"js/module"}]}