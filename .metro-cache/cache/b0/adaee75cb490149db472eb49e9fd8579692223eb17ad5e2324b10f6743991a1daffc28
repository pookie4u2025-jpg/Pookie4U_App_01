{"dependencies":[{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":16,"index":172},"end":{"line":5,"column":32,"index":188}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"./ModalsRenderer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":25,"index":215},"end":{"line":6,"column":52,"index":242}}],"key":"GOmK+FeZn8l9z00qHpZEIAM+J2M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n  'use client';\n\n  var _reactJsxRuntime = require(_dependencyMap[0]);\n  var _slicedToArray = require(_dependencyMap[1]).default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useModalContext = exports.ModalContextProvider = undefined;\n  var react_1 = require(_dependencyMap[2]);\n  var ModalsRenderer_1 = require(_dependencyMap[3]);\n  var ALLOWED_EVENT_TYPE_LISTENERS = ['close', 'show'];\n  var ModalContext = (0, react_1.createContext)(undefined);\n  var ModalContextProvider = _ref => {\n    var children = _ref.children;\n    var _ref2 = (0, react_1.useState)([]),\n      _ref3 = _slicedToArray(_ref2, 2),\n      modalConfigs = _ref3[0],\n      setModalConfigs = _ref3[1];\n    var eventListeners = (0, react_1.useRef)({\n      close: new Set(),\n      show: new Set()\n    });\n    var prevModalConfigs = (0, react_1.useRef)([]);\n    (0, react_1.useEffect)(() => {\n      if (prevModalConfigs.current !== modalConfigs) {\n        prevModalConfigs.current.forEach(config => {\n          if (!modalConfigs.find(c => c.uniqueId === config.uniqueId)) {\n            emitCloseEvent(config.uniqueId);\n          }\n        });\n        prevModalConfigs.current = modalConfigs;\n      }\n    }, [modalConfigs]);\n    var openModal = (0, react_1.useCallback)(config => {\n      setModalConfigs(prev => [...prev, config]);\n    }, []);\n    var updateModal = (0, react_1.useCallback)((id, config) => {\n      setModalConfigs(prev => {\n        var index = prev.findIndex(c => c.uniqueId === id);\n        if (index >= 0) {\n          var updatedConfigs = [...prev];\n          updatedConfigs[index] = {\n            ...updatedConfigs[index],\n            ...config\n          };\n          return updatedConfigs;\n        }\n        return prev;\n      });\n    }, []);\n    var emitCloseEvent = (0, react_1.useCallback)(id => {\n      eventListeners.current.close.forEach(callback => callback(id));\n    }, []);\n    var emitShowEvent = (0, react_1.useCallback)(id => {\n      eventListeners.current.show.forEach(callback => callback(id));\n    }, []);\n    var closeModal = (0, react_1.useCallback)(id => {\n      setModalConfigs(prev => {\n        var modalIndex = prev.findIndex(config => config.uniqueId === id);\n        if (modalIndex >= 0) {\n          return prev.filter((_, index) => index < modalIndex);\n        }\n        return prev;\n      });\n    }, []);\n    var addEventListener = (0, react_1.useCallback)((type, callback) => {\n      if (!ALLOWED_EVENT_TYPE_LISTENERS.includes(type)) return () => {};\n      if (!callback) {\n        console.warn('Passing undefined as a callback to addEventListener is forbidden');\n        return () => {};\n      }\n      eventListeners.current[type].add(callback);\n      return () => {\n        eventListeners.current[type].delete(callback);\n      };\n    }, []);\n    return /*#__PURE__*/_reactJsxRuntime.jsx(ModalContext.Provider, {\n      value: {\n        modalConfigs,\n        openModal,\n        closeModal,\n        updateModal,\n        addEventListener\n      },\n      children: /*#__PURE__*/_reactJsxRuntime.jsx(ModalsRenderer_1.ModalsRenderer, {\n        modalConfigs: modalConfigs,\n        onDismissed: id => {\n          closeModal(id);\n        },\n        onShow: emitShowEvent,\n        children: children\n      })\n    });\n  };\n  exports.ModalContextProvider = ModalContextProvider;\n  var useModalContext = () => {\n    var context = (0, react_1.use)(ModalContext);\n    if (!context) {\n      throw new Error('useModalContext must be used within a ModalContextProvider');\n    }\n    return context;\n  };\n  exports.useModalContext = useModalContext;\n});","lineCount":106,"map":[[2,2,1,0],[2,14,1,12],[3,2,2,0],[3,14,2,12],[5,2,2,13],[5,6,2,13,"_reactJsxRuntime"],[5,22,2,13],[5,25,2,13,"require"],[5,32,2,13],[5,33,2,13,"_dependencyMap"],[5,47,2,13],[6,2,2,13],[6,6,2,13,"_slicedToArray"],[6,20,2,13],[6,23,2,13,"require"],[6,30,2,13],[6,31,2,13,"_dependencyMap"],[6,45,2,13],[6,50,2,13,"default"],[6,57,2,13],[7,2,3,0,"Object"],[7,8,3,6],[7,9,3,7,"defineProperty"],[7,23,3,21],[7,24,3,22,"exports"],[7,31,3,29],[7,33,3,31],[7,45,3,43],[7,47,3,45],[8,4,3,47,"value"],[8,9,3,52],[8,11,3,54],[9,2,3,59],[9,3,3,60],[9,4,3,61],[10,2,4,0,"exports"],[10,9,4,7],[10,10,4,8,"useModalContext"],[10,25,4,23],[10,28,4,26,"exports"],[10,35,4,33],[10,36,4,34,"ModalContextProvider"],[10,56,4,54],[10,59,4,54,"undefined"],[10,68,4,63],[11,2,5,0],[11,6,5,6,"react_1"],[11,13,5,13],[11,16,5,16,"require"],[11,23,5,23],[11,24,5,23,"_dependencyMap"],[11,38,5,23],[11,41,5,31],[11,42,5,32],[12,2,6,0],[12,6,6,6,"ModalsRenderer_1"],[12,22,6,22],[12,25,6,25,"require"],[12,32,6,32],[12,33,6,32,"_dependencyMap"],[12,47,6,32],[12,50,6,51],[12,51,6,52],[13,2,7,0],[13,6,7,6,"ALLOWED_EVENT_TYPE_LISTENERS"],[13,34,7,34],[13,37,7,37],[13,38,7,38],[13,45,7,45],[13,47,7,47],[13,53,7,53],[13,54,7,54],[14,2,8,0],[14,6,8,6,"ModalContext"],[14,18,8,18],[14,21,8,21],[14,22,8,22],[14,23,8,23],[14,25,8,25,"react_1"],[14,32,8,32],[14,33,8,33,"createContext"],[14,46,8,46],[14,48,8,48,"undefined"],[14,57,8,57],[14,58,8,58],[15,2,9,0],[15,6,9,6,"ModalContextProvider"],[15,26,9,26],[15,29,9,29,"_ref"],[15,33,9,29],[15,37,9,47],[16,4,9,47],[16,8,9,32,"children"],[16,16,9,40],[16,19,9,40,"_ref"],[16,23,9,40],[16,24,9,32,"children"],[16,32,9,40],[17,4,10,4],[17,8,10,4,"_ref2"],[17,13,10,4],[17,16,10,44],[17,17,10,45],[17,18,10,46],[17,20,10,48,"react_1"],[17,27,10,55],[17,28,10,56,"useState"],[17,36,10,64],[17,38,10,66],[17,40,10,68],[17,41,10,69],[18,6,10,69,"_ref3"],[18,11,10,69],[18,14,10,69,"_slicedToArray"],[18,28,10,69],[18,29,10,69,"_ref2"],[18,34,10,69],[19,6,10,11,"modalConfigs"],[19,18,10,23],[19,21,10,23,"_ref3"],[19,26,10,23],[20,6,10,25,"setModalConfigs"],[20,21,10,40],[20,24,10,40,"_ref3"],[20,29,10,40],[21,4,11,4],[21,8,11,10,"eventListeners"],[21,22,11,24],[21,25,11,27],[21,26,11,28],[21,27,11,29],[21,29,11,31,"react_1"],[21,36,11,38],[21,37,11,39,"useRef"],[21,43,11,45],[21,45,11,47],[22,6,12,8,"close"],[22,11,12,13],[22,13,12,15],[22,17,12,19,"Set"],[22,20,12,22],[22,21,12,23],[22,22,12,24],[23,6,13,8,"show"],[23,10,13,12],[23,12,13,14],[23,16,13,18,"Set"],[23,19,13,21],[23,20,13,22],[24,4,14,4],[24,5,14,5],[24,6,14,6],[25,4,15,4],[25,8,15,10,"prevModalConfigs"],[25,24,15,26],[25,27,15,29],[25,28,15,30],[25,29,15,31],[25,31,15,33,"react_1"],[25,38,15,40],[25,39,15,41,"useRef"],[25,45,15,47],[25,47,15,49],[25,49,15,51],[25,50,15,52],[26,4,16,4],[26,5,16,5],[26,6,16,6],[26,8,16,8,"react_1"],[26,15,16,15],[26,16,16,16,"useEffect"],[26,25,16,25],[26,27,16,27],[26,33,16,33],[27,6,17,8],[27,10,17,12,"prevModalConfigs"],[27,26,17,28],[27,27,17,29,"current"],[27,34,17,36],[27,39,17,41,"modalConfigs"],[27,51,17,53],[27,53,17,55],[28,8,18,12,"prevModalConfigs"],[28,24,18,28],[28,25,18,29,"current"],[28,32,18,36],[28,33,18,37,"forEach"],[28,40,18,44],[28,41,18,46,"config"],[28,47,18,52],[28,51,18,57],[29,10,19,16],[29,14,19,20],[29,15,19,21,"modalConfigs"],[29,27,19,33],[29,28,19,34,"find"],[29,32,19,38],[29,33,19,40,"c"],[29,34,19,41],[29,38,19,46,"c"],[29,39,19,47],[29,40,19,48,"uniqueId"],[29,48,19,56],[29,53,19,61,"config"],[29,59,19,67],[29,60,19,68,"uniqueId"],[29,68,19,76],[29,69,19,77],[29,71,19,79],[30,12,20,20,"emitCloseEvent"],[30,26,20,34],[30,27,20,35,"config"],[30,33,20,41],[30,34,20,42,"uniqueId"],[30,42,20,50],[30,43,20,51],[31,10,21,16],[32,8,22,12],[32,9,22,13],[32,10,22,14],[33,8,23,12,"prevModalConfigs"],[33,24,23,28],[33,25,23,29,"current"],[33,32,23,36],[33,35,23,39,"modalConfigs"],[33,47,23,51],[34,6,24,8],[35,4,25,4],[35,5,25,5],[35,7,25,7],[35,8,25,8,"modalConfigs"],[35,20,25,20],[35,21,25,21],[35,22,25,22],[36,4,26,4],[36,8,26,10,"openModal"],[36,17,26,19],[36,20,26,22],[36,21,26,23],[36,22,26,24],[36,24,26,26,"react_1"],[36,31,26,33],[36,32,26,34,"useCallback"],[36,43,26,45],[36,45,26,48,"config"],[36,51,26,54],[36,55,26,59],[37,6,27,8,"setModalConfigs"],[37,21,27,23],[37,22,27,25,"prev"],[37,26,27,29],[37,30,27,34],[37,31,27,35],[37,34,27,38,"prev"],[37,38,27,42],[37,40,27,44,"config"],[37,46,27,50],[37,47,27,51],[37,48,27,52],[38,4,28,4],[38,5,28,5],[38,7,28,7],[38,9,28,9],[38,10,28,10],[39,4,29,4],[39,8,29,10,"updateModal"],[39,19,29,21],[39,22,29,24],[39,23,29,25],[39,24,29,26],[39,26,29,28,"react_1"],[39,33,29,35],[39,34,29,36,"useCallback"],[39,45,29,47],[39,47,29,49],[39,48,29,50,"id"],[39,50,29,52],[39,52,29,54,"config"],[39,58,29,60],[39,63,29,65],[40,6,30,8,"setModalConfigs"],[40,21,30,23],[40,22,30,25,"prev"],[40,26,30,29],[40,30,30,34],[41,8,31,12],[41,12,31,18,"index"],[41,17,31,23],[41,20,31,26,"prev"],[41,24,31,30],[41,25,31,31,"findIndex"],[41,34,31,40],[41,35,31,42,"c"],[41,36,31,43],[41,40,31,48,"c"],[41,41,31,49],[41,42,31,50,"uniqueId"],[41,50,31,58],[41,55,31,63,"id"],[41,57,31,65],[41,58,31,66],[42,8,32,12],[42,12,32,16,"index"],[42,17,32,21],[42,21,32,25],[42,22,32,26],[42,24,32,28],[43,10,33,16],[43,14,33,22,"updatedConfigs"],[43,28,33,36],[43,31,33,39],[43,32,33,40],[43,35,33,43,"prev"],[43,39,33,47],[43,40,33,48],[44,10,34,16,"updatedConfigs"],[44,24,34,30],[44,25,34,31,"index"],[44,30,34,36],[44,31,34,37],[44,34,34,40],[45,12,34,42],[45,15,34,45,"updatedConfigs"],[45,29,34,59],[45,30,34,60,"index"],[45,35,34,65],[45,36,34,66],[46,12,34,68],[46,15,34,71,"config"],[47,10,34,78],[47,11,34,79],[48,10,35,16],[48,17,35,23,"updatedConfigs"],[48,31,35,37],[49,8,36,12],[50,8,37,12],[50,15,37,19,"prev"],[50,19,37,23],[51,6,38,8],[51,7,38,9],[51,8,38,10],[52,4,39,4],[52,5,39,5],[52,7,39,7],[52,9,39,9],[52,10,39,10],[53,4,40,4],[53,8,40,10,"emitCloseEvent"],[53,22,40,24],[53,25,40,27],[53,26,40,28],[53,27,40,29],[53,29,40,31,"react_1"],[53,36,40,38],[53,37,40,39,"useCallback"],[53,48,40,50],[53,50,40,53,"id"],[53,52,40,55],[53,56,40,60],[54,6,41,8,"eventListeners"],[54,20,41,22],[54,21,41,23,"current"],[54,28,41,30],[54,29,41,31,"close"],[54,34,41,36],[54,35,41,37,"forEach"],[54,42,41,44],[54,43,41,46,"callback"],[54,51,41,54],[54,55,41,59,"callback"],[54,63,41,67],[54,64,41,68,"id"],[54,66,41,70],[54,67,41,71],[54,68,41,72],[55,4,42,4],[55,5,42,5],[55,7,42,7],[55,9,42,9],[55,10,42,10],[56,4,43,4],[56,8,43,10,"emitShowEvent"],[56,21,43,23],[56,24,43,26],[56,25,43,27],[56,26,43,28],[56,28,43,30,"react_1"],[56,35,43,37],[56,36,43,38,"useCallback"],[56,47,43,49],[56,49,43,52,"id"],[56,51,43,54],[56,55,43,59],[57,6,44,8,"eventListeners"],[57,20,44,22],[57,21,44,23,"current"],[57,28,44,30],[57,29,44,31,"show"],[57,33,44,35],[57,34,44,36,"forEach"],[57,41,44,43],[57,42,44,45,"callback"],[57,50,44,53],[57,54,44,58,"callback"],[57,62,44,66],[57,63,44,67,"id"],[57,65,44,69],[57,66,44,70],[57,67,44,71],[58,4,45,4],[58,5,45,5],[58,7,45,7],[58,9,45,9],[58,10,45,10],[59,4,46,4],[59,8,46,10,"closeModal"],[59,18,46,20],[59,21,46,23],[59,22,46,24],[59,23,46,25],[59,25,46,27,"react_1"],[59,32,46,34],[59,33,46,35,"useCallback"],[59,44,46,46],[59,46,46,49,"id"],[59,48,46,51],[59,52,46,56],[60,6,47,8,"setModalConfigs"],[60,21,47,23],[60,22,47,25,"prev"],[60,26,47,29],[60,30,47,34],[61,8,48,12],[61,12,48,18,"modalIndex"],[61,22,48,28],[61,25,48,31,"prev"],[61,29,48,35],[61,30,48,36,"findIndex"],[61,39,48,45],[61,40,48,47,"config"],[61,46,48,53],[61,50,48,58,"config"],[61,56,48,64],[61,57,48,65,"uniqueId"],[61,65,48,73],[61,70,48,78,"id"],[61,72,48,80],[61,73,48,81],[62,8,49,12],[62,12,49,16,"modalIndex"],[62,22,49,26],[62,26,49,30],[62,27,49,31],[62,29,49,33],[63,10,50,16],[63,17,50,23,"prev"],[63,21,50,27],[63,22,50,28,"filter"],[63,28,50,34],[63,29,50,35],[63,30,50,36,"_"],[63,31,50,37],[63,33,50,39,"index"],[63,38,50,44],[63,43,50,49,"index"],[63,48,50,54],[63,51,50,57,"modalIndex"],[63,61,50,67],[63,62,50,68],[64,8,51,12],[65,8,52,12],[65,15,52,19,"prev"],[65,19,52,23],[66,6,53,8],[66,7,53,9],[66,8,53,10],[67,4,54,4],[67,5,54,5],[67,7,54,7],[67,9,54,9],[67,10,54,10],[68,4,55,4],[68,8,55,10,"addEventListener"],[68,24,55,26],[68,27,55,29],[68,28,55,30],[68,29,55,31],[68,31,55,33,"react_1"],[68,38,55,40],[68,39,55,41,"useCallback"],[68,50,55,52],[68,52,55,54],[68,53,55,55,"type"],[68,57,55,59],[68,59,55,61,"callback"],[68,67,55,69],[68,72,55,74],[69,6,56,8],[69,10,56,12],[69,11,56,13,"ALLOWED_EVENT_TYPE_LISTENERS"],[69,39,56,41],[69,40,56,42,"includes"],[69,48,56,50],[69,49,56,51,"type"],[69,53,56,55],[69,54,56,56],[69,56,57,12],[69,63,57,19],[69,69,57,25],[69,70,57,27],[69,71,57,28],[70,6,58,8],[70,10,58,12],[70,11,58,13,"callback"],[70,19,58,21],[70,21,58,23],[71,8,59,12,"console"],[71,15,59,19],[71,16,59,20,"warn"],[71,20,59,24],[71,21,59,25],[71,87,59,91],[71,88,59,92],[72,8,60,12],[72,15,60,19],[72,21,60,25],[72,22,60,27],[72,23,60,28],[73,6,61,8],[74,6,62,8,"eventListeners"],[74,20,62,22],[74,21,62,23,"current"],[74,28,62,30],[74,29,62,31,"type"],[74,33,62,35],[74,34,62,36],[74,35,62,37,"add"],[74,38,62,40],[74,39,62,41,"callback"],[74,47,62,49],[74,48,62,50],[75,6,63,8],[75,13,63,15],[75,19,63,21],[76,8,64,12,"eventListeners"],[76,22,64,26],[76,23,64,27,"current"],[76,30,64,34],[76,31,64,35,"type"],[76,35,64,39],[76,36,64,40],[76,37,64,41,"delete"],[76,43,64,47],[76,44,64,48,"callback"],[76,52,64,56],[76,53,64,57],[77,6,65,8],[77,7,65,9],[78,4,66,4],[78,5,66,5],[78,7,66,7],[78,9,66,9],[78,10,66,10],[79,4,67,4],[79,24,67,12,"_reactJsxRuntime"],[79,40,67,12],[79,41,67,12,"jsx"],[79,44,67,12],[79,45,67,13,"ModalContext"],[79,57,67,25],[79,58,67,26,"Provider"],[79,66,67,34],[80,6,67,35,"value"],[80,11,67,40],[80,13,67,42],[81,8,68,12,"modalConfigs"],[81,20,68,24],[82,8,69,12,"openModal"],[82,17,69,21],[83,8,70,12,"closeModal"],[83,18,70,22],[84,8,71,12,"updateModal"],[84,19,71,23],[85,8,72,12,"addEventListener"],[86,6,73,8],[86,7,73,10],[87,6,73,10,"children"],[87,14,73,10],[87,29,74,6,"_reactJsxRuntime"],[87,45,74,6],[87,46,74,6,"jsx"],[87,49,74,6],[87,50,74,7,"ModalsRenderer_1"],[87,66,74,23],[87,67,74,24,"ModalsRenderer"],[87,81,74,38],[88,8,74,39,"modalConfigs"],[88,20,74,51],[88,22,74,53,"modalConfigs"],[88,34,74,66],[89,8,74,67,"onDismissed"],[89,19,74,78],[89,21,74,81,"id"],[89,23,74,83],[89,27,74,88],[90,10,75,12,"closeModal"],[90,20,75,22],[90,21,75,23,"id"],[90,23,75,25],[90,24,75,26],[91,8,76,8],[91,9,76,10],[92,8,76,11,"onShow"],[92,14,76,17],[92,16,76,19,"emitShowEvent"],[92,29,76,33],[93,8,76,33,"children"],[93,16,76,33],[93,18,77,9,"children"],[94,6,77,17],[94,7,78,39],[95,4,78,40],[95,5,79,27],[95,6,79,28],[96,2,80,0],[96,3,80,1],[97,2,81,0,"exports"],[97,9,81,7],[97,10,81,8,"ModalContextProvider"],[97,30,81,28],[97,33,81,31,"ModalContextProvider"],[97,53,81,51],[98,2,82,0],[98,6,82,6,"useModalContext"],[98,21,82,21],[98,24,82,24,"useModalContext"],[98,25,82,24],[98,30,82,30],[99,4,83,4],[99,8,83,10,"context"],[99,15,83,17],[99,18,83,20],[99,19,83,21],[99,20,83,22],[99,22,83,24,"react_1"],[99,29,83,31],[99,30,83,32,"use"],[99,33,83,35],[99,35,83,37,"ModalContext"],[99,47,83,49],[99,48,83,50],[100,4,84,4],[100,8,84,8],[100,9,84,9,"context"],[100,16,84,16],[100,18,84,18],[101,6,85,8],[101,12,85,14],[101,16,85,18,"Error"],[101,21,85,23],[101,22,85,24],[101,82,85,84],[101,83,85,85],[102,4,86,4],[103,4,87,4],[103,11,87,11,"context"],[103,18,87,18],[104,2,88,0],[104,3,88,1],[105,2,89,0,"exports"],[105,9,89,7],[105,10,89,8,"useModalContext"],[105,25,89,23],[105,28,89,26,"useModalContext"],[105,43,89,41],[106,0,89,42],[106,3]],"functionMap":{"names":["<global>","ModalContextProvider","<anonymous>","prevModalConfigs.current.forEach$argument_0","modalConfigs.find$argument_0","setModalConfigs$argument_0","prev.findIndex$argument_0","eventListeners.current.close.forEach$argument_0","eventListeners.current.show.forEach$argument_0","prev.filter$argument_0","ModalsRenderer_1.ModalsRenderer.props.onDismissed","useModalContext"],"mappings":"AAA;6BCQ;2BCO;6CCE;uCCC,qCD;aDG;KDG;+CCC;wBGC,2BH;KDC;iDCC;wBGC;yCCC,wBD;SHO;KDC;oDCC;6CKC,0BL;KDC;mDCC;4CMC,0BN;KDC;gDCC;wBGC;8CCC,kCD;mCIE,gCJ;SHG;KDC;sDCC;KDW;gFSQ;STE;CDI;wBWE;CXM"},"hasCjsExports":true},"type":"js/module"}]}