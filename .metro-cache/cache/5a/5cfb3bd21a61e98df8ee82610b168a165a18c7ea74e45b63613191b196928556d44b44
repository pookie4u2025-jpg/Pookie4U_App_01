{"dependencies":[{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-linking","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":40,"index":106}}],"key":"UOn5wJuCXvTT9EneNUmI6H0GQgM=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":107},"end":{"line":3,"column":45,"index":152}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"SessionUrlProvider\", {\n    enumerable: true,\n    get: function () {\n      return SessionUrlProvider;\n    }\n  });\n  var _expoConstants = require(_dependencyMap[0], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _expoLinking = require(_dependencyMap[1], \"expo-linking\");\n  var Linking = _interopNamespace(_expoLinking);\n  var _expoModulesCore = require(_dependencyMap[2], \"expo-modules-core\");\n  class SessionUrlProvider {\n    static BASE_URL = `https://auth.expo.io`;\n    static SESSION_PATH = 'expo-auth-session';\n    getDefaultReturnUrl(urlPath, options) {\n      const queryParams = SessionUrlProvider.getHostAddressQueryParams();\n      let path = SessionUrlProvider.SESSION_PATH;\n      if (urlPath) {\n        path = [path, SessionUrlProvider.removeLeadingSlash(urlPath)].filter(Boolean).join('/');\n      }\n      return Linking.createURL(path, {\n        // The redirect URL doesn't matter for the proxy as long as it's valid, so silence warnings if needed.\n        scheme: options?.scheme ?? Linking.resolveScheme({\n          isSilent: true\n        }),\n        queryParams,\n        isTripleSlashed: options?.isTripleSlashed\n      });\n    }\n    getStartUrl(authUrl, returnUrl, projectNameForProxy) {\n      if (_expoModulesCore.Platform.OS === 'web' && !_expoModulesCore.Platform.isDOMAvailable) {\n        // Return nothing in SSR envs\n        return '';\n      }\n      const queryString = new URLSearchParams({\n        authUrl,\n        returnUrl\n      });\n      return `${this.getRedirectUrl({\n        projectNameForProxy\n      })}/start?${queryString}`;\n    }\n    getRedirectUrl(options) {\n      if (_expoModulesCore.Platform.OS === 'web') {\n        if (_expoModulesCore.Platform.isDOMAvailable) {\n          return [window.location.origin, options.urlPath].filter(Boolean).join('/');\n        } else {\n          // Return nothing in SSR envs\n          return '';\n        }\n      }\n      const legacyExpoProjectFullName = options.projectNameForProxy || Constants.default.expoConfig?.originalFullName;\n      if (!legacyExpoProjectFullName) {\n        let nextSteps = '';\n        if (__DEV__) {\n          if (Constants.default.executionEnvironment === _expoConstants.ExecutionEnvironment.Bare) {\n            nextSteps = ' Ensure you have the latest version of expo-constants installed and recompile your native app. You can verify that originalFullName is defined by running `npx expo config --type public` and inspecting the output.';\n          } else if (Constants.default.executionEnvironment === _expoConstants.ExecutionEnvironment.StoreClient) {\n            nextSteps = ' Report this as a bug with the contents of `expo config --type public`: https://github.com/expo/expo/issues';\n          }\n        }\n        if (Constants.default.manifest2) {\n          nextSteps = ' Prefer AuthRequest in combination with an Expo Development Client build of your application.' + ' To continue using the AuthSession proxy, specify the project full name (@owner/slug) using the projectNameForProxy option.';\n        }\n        throw new Error('Cannot use the AuthSession proxy because the project full name is not defined.' + nextSteps);\n      }\n      const redirectUrl = `${SessionUrlProvider.BASE_URL}/${legacyExpoProjectFullName}`;\n      if (__DEV__) {\n        SessionUrlProvider.warnIfAnonymous(legacyExpoProjectFullName, redirectUrl);\n        // TODO: Verify with the dev server that the manifest is up to date.\n      }\n      return redirectUrl;\n    }\n    static getHostAddressQueryParams() {\n      let hostUri = Constants.default.expoConfig?.hostUri;\n      if (!hostUri && (_expoConstants.ExecutionEnvironment.StoreClient === Constants.default.executionEnvironment || Linking.resolveScheme({}))) {\n        if (!Constants.default.linkingUri) {\n          hostUri = '';\n        } else {\n          // we're probably not using up-to-date xdl, so just fake it for now\n          // we have to remove the /--/ on the end since this will be inserted again later\n          hostUri = SessionUrlProvider.removeScheme(Constants.default.linkingUri).replace(/\\/--(\\/.*)?$/, '');\n        }\n      }\n      if (!hostUri) {\n        return undefined;\n      }\n      const uriParts = hostUri?.split('?');\n      try {\n        return Object.fromEntries(\n        // @ts-ignore: [Symbol.iterator] is indeed, available on every platform.\n        new URLSearchParams(uriParts?.[1]));\n      } catch {}\n      return undefined;\n    }\n    static warnIfAnonymous(id, url) {\n      if (id.startsWith('@anonymous/')) {\n        console.warn(`You are not currently signed in to Expo on your development machine. As a result, the redirect URL for AuthSession will be \"${url}\". If you are using an OAuth provider that requires adding redirect URLs to an allow list, we recommend that you do not add this URL -- instead, you should sign in to Expo to acquire a unique redirect URL. Additionally, if you do decide to publish this app using Expo, you will need to register an account to do it.`);\n      }\n    }\n    static removeScheme(url) {\n      return url.replace(/^[a-zA-Z0-9+.-]+:\\/\\//, '');\n    }\n    static removeLeadingSlash(url) {\n      return url.replace(/^\\//, '');\n    }\n  }\n  var _default = new SessionUrlProvider();\n});","lineCount":141,"map":[[27,2,106,0,"Object"],[27,8,106,0],[27,9,106,0,"defineProperty"],[27,23,106,0],[27,24,106,0,"exports"],[27,31,106,0],[28,4,106,0,"enumerable"],[28,14,106,0],[29,4,106,0,"get"],[29,7,106,0],[29,18,106,0,"get"],[29,19,106,0],[30,6,106,0],[30,13,106,0,"_default"],[30,21,106,0],[31,4,106,0],[32,2,106,0],[33,2,4,0,"Object"],[33,8,4,0],[33,9,4,0,"defineProperty"],[33,23,4,0],[33,24,4,0,"exports"],[33,31,4,0],[34,4,4,0,"enumerable"],[34,14,4,0],[35,4,4,0,"get"],[35,7,4,0],[35,18,4,0,"get"],[35,19,4,0],[36,6,4,0],[36,13,4,0,"SessionUrlProvider"],[36,31,4,0],[37,4,4,0],[38,2,4,0],[39,2,1,0],[39,6,1,0,"_expoConstants"],[39,20,1,0],[39,23,1,0,"require"],[39,30,1,0],[39,31,1,0,"_dependencyMap"],[39,45,1,0],[40,2,1,0],[40,6,1,0,"Constants"],[40,15,1,0],[40,18,1,0,"_interopDefault"],[40,33,1,0],[40,34,1,0,"_expoConstants"],[40,48,1,0],[41,2,2,0],[41,6,2,0,"_expoLinking"],[41,18,2,0],[41,21,2,0,"require"],[41,28,2,0],[41,29,2,0,"_dependencyMap"],[41,43,2,0],[42,2,2,0],[42,6,2,0,"Linking"],[42,13,2,0],[42,16,2,0,"_interopNamespace"],[42,33,2,0],[42,34,2,0,"_expoLinking"],[42,46,2,0],[43,2,3,0],[43,6,3,0,"_expoModulesCore"],[43,22,3,0],[43,25,3,0,"require"],[43,32,3,0],[43,33,3,0,"_dependencyMap"],[43,47,3,0],[44,2,4,7],[44,8,4,13,"SessionUrlProvider"],[44,26,4,31],[44,27,4,32],[45,4,5,4],[45,11,5,11,"BASE_URL"],[45,19,5,19],[45,22,5,22],[45,44,5,44],[46,4,6,4],[46,11,6,11,"SESSION_PATH"],[46,23,6,23],[46,26,6,26],[46,45,6,45],[47,4,7,4,"getDefaultReturnUrl"],[47,23,7,23,"getDefaultReturnUrl"],[47,24,7,24,"urlPath"],[47,31,7,31],[47,33,7,33,"options"],[47,40,7,40],[47,42,7,42],[48,6,8,8],[48,12,8,14,"queryParams"],[48,23,8,25],[48,26,8,28,"SessionUrlProvider"],[48,44,8,46],[48,45,8,47,"getHostAddressQueryParams"],[48,70,8,72],[48,71,8,73],[48,72,8,74],[49,6,9,8],[49,10,9,12,"path"],[49,14,9,16],[49,17,9,19,"SessionUrlProvider"],[49,35,9,37],[49,36,9,38,"SESSION_PATH"],[49,48,9,50],[50,6,10,8],[50,10,10,12,"urlPath"],[50,17,10,19],[50,19,10,21],[51,8,11,12,"path"],[51,12,11,16],[51,15,11,19],[51,16,11,20,"path"],[51,20,11,24],[51,22,11,26,"SessionUrlProvider"],[51,40,11,44],[51,41,11,45,"removeLeadingSlash"],[51,59,11,63],[51,60,11,64,"urlPath"],[51,67,11,71],[51,68,11,72],[51,69,11,73],[51,70,11,74,"filter"],[51,76,11,80],[51,77,11,81,"Boolean"],[51,84,11,88],[51,85,11,89],[51,86,11,90,"join"],[51,90,11,94],[51,91,11,95],[51,94,11,98],[51,95,11,99],[52,6,12,8],[53,6,13,8],[53,13,13,15,"Linking"],[53,20,13,22],[53,21,13,23,"createURL"],[53,30,13,32],[53,31,13,33,"path"],[53,35,13,37],[53,37,13,39],[54,8,14,12],[55,8,15,12,"scheme"],[55,14,15,18],[55,16,15,20,"options"],[55,23,15,27],[55,25,15,29,"scheme"],[55,31,15,35],[55,35,15,39,"Linking"],[55,42,15,46],[55,43,15,47,"resolveScheme"],[55,56,15,60],[55,57,15,61],[56,10,15,63,"isSilent"],[56,18,15,71],[56,20,15,73],[57,8,15,78],[57,9,15,79],[57,10,15,80],[58,8,16,12,"queryParams"],[58,19,16,23],[59,8,17,12,"isTripleSlashed"],[59,23,17,27],[59,25,17,29,"options"],[59,32,17,36],[59,34,17,38,"isTripleSlashed"],[60,6,18,8],[60,7,18,9],[60,8,18,10],[61,4,19,4],[62,4,20,4,"getStartUrl"],[62,15,20,15,"getStartUrl"],[62,16,20,16,"authUrl"],[62,23,20,23],[62,25,20,25,"returnUrl"],[62,34,20,34],[62,36,20,36,"projectNameForProxy"],[62,55,20,55],[62,57,20,57],[63,6,21,8],[63,10,21,12,"Platform"],[63,26,21,20],[63,27,21,20,"Platform"],[63,35,21,20],[63,36,21,21,"OS"],[63,38,21,23],[63,43,21,28],[63,48,21,33],[63,52,21,37],[63,53,21,38,"Platform"],[63,69,21,46],[63,70,21,46,"Platform"],[63,78,21,46],[63,79,21,47,"isDOMAvailable"],[63,93,21,61],[63,95,21,63],[64,8,22,12],[65,8,23,12],[65,15,23,19],[65,17,23,21],[66,6,24,8],[67,6,25,8],[67,12,25,14,"queryString"],[67,23,25,25],[67,26,25,28],[67,30,25,32,"URLSearchParams"],[67,45,25,47],[67,46,25,48],[68,8,26,12,"authUrl"],[68,15,26,19],[69,8,27,12,"returnUrl"],[70,6,28,8],[70,7,28,9],[70,8,28,10],[71,6,29,8],[71,13,29,15],[71,16,29,18],[71,20,29,22],[71,21,29,23,"getRedirectUrl"],[71,35,29,37],[71,36,29,38],[72,8,29,40,"projectNameForProxy"],[73,6,29,60],[73,7,29,61],[73,8,29,62],[73,18,29,72,"queryString"],[73,29,29,83],[73,31,29,85],[74,4,30,4],[75,4,31,4,"getRedirectUrl"],[75,18,31,18,"getRedirectUrl"],[75,19,31,19,"options"],[75,26,31,26],[75,28,31,28],[76,6,32,8],[76,10,32,12,"Platform"],[76,26,32,20],[76,27,32,20,"Platform"],[76,35,32,20],[76,36,32,21,"OS"],[76,38,32,23],[76,43,32,28],[76,48,32,33],[76,50,32,35],[77,8,33,12],[77,12,33,16,"Platform"],[77,28,33,24],[77,29,33,24,"Platform"],[77,37,33,24],[77,38,33,25,"isDOMAvailable"],[77,52,33,39],[77,54,33,41],[78,10,34,16],[78,17,34,23],[78,18,34,24,"window"],[78,24,34,30],[78,25,34,31,"location"],[78,33,34,39],[78,34,34,40,"origin"],[78,40,34,46],[78,42,34,48,"options"],[78,49,34,55],[78,50,34,56,"urlPath"],[78,57,34,63],[78,58,34,64],[78,59,34,65,"filter"],[78,65,34,71],[78,66,34,72,"Boolean"],[78,73,34,79],[78,74,34,80],[78,75,34,81,"join"],[78,79,34,85],[78,80,34,86],[78,83,34,89],[78,84,34,90],[79,8,35,12],[79,9,35,13],[79,15,36,17],[80,10,37,16],[81,10,38,16],[81,17,38,23],[81,19,38,25],[82,8,39,12],[83,6,40,8],[84,6,41,8],[84,12,41,14,"legacyExpoProjectFullName"],[84,37,41,39],[84,40,41,42,"options"],[84,47,41,49],[84,48,41,50,"projectNameForProxy"],[84,67,41,69],[84,71,41,73,"Constants"],[84,80,41,82],[84,81,41,82,"default"],[84,88,41,82],[84,89,41,83,"expoConfig"],[84,99,41,93],[84,101,41,95,"originalFullName"],[84,117,41,111],[85,6,42,8],[85,10,42,12],[85,11,42,13,"legacyExpoProjectFullName"],[85,36,42,38],[85,38,42,40],[86,8,43,12],[86,12,43,16,"nextSteps"],[86,21,43,25],[86,24,43,28],[86,26,43,30],[87,8,44,12],[87,12,44,16,"__DEV__"],[87,19,44,23],[87,21,44,25],[88,10,45,16],[88,14,45,20,"Constants"],[88,23,45,29],[88,24,45,29,"default"],[88,31,45,29],[88,32,45,30,"executionEnvironment"],[88,52,45,50],[88,57,45,55,"ExecutionEnvironment"],[88,71,45,75],[88,72,45,75,"ExecutionEnvironment"],[88,92,45,75],[88,93,45,76,"Bare"],[88,97,45,80],[88,99,45,82],[89,12,46,20,"nextSteps"],[89,21,46,29],[89,24,47,24],[89,238,47,238],[90,10,48,16],[90,11,48,17],[90,17,49,21],[90,21,49,25,"Constants"],[90,30,49,34],[90,31,49,34,"default"],[90,38,49,34],[90,39,49,35,"executionEnvironment"],[90,59,49,55],[90,64,49,60,"ExecutionEnvironment"],[90,78,49,80],[90,79,49,80,"ExecutionEnvironment"],[90,99,49,80],[90,100,49,81,"StoreClient"],[90,111,49,92],[90,113,49,94],[91,12,50,20,"nextSteps"],[91,21,50,29],[91,24,51,24],[91,133,51,133],[92,10,52,16],[93,8,53,12],[94,8,54,12],[94,12,54,16,"Constants"],[94,21,54,25],[94,22,54,25,"default"],[94,29,54,25],[94,30,54,26,"manifest2"],[94,39,54,35],[94,41,54,37],[95,10,55,16,"nextSteps"],[95,19,55,25],[95,22,56,20],[95,117,56,115],[95,120,57,24],[95,245,57,149],[96,8,58,12],[97,8,59,12],[97,14,59,18],[97,18,59,22,"Error"],[97,23,59,27],[97,24,59,28],[97,104,59,108],[97,107,59,111,"nextSteps"],[97,116,59,120],[97,117,59,121],[98,6,60,8],[99,6,61,8],[99,12,61,14,"redirectUrl"],[99,23,61,25],[99,26,61,28],[99,29,61,31,"SessionUrlProvider"],[99,47,61,49],[99,48,61,50,"BASE_URL"],[99,56,61,58],[99,60,61,62,"legacyExpoProjectFullName"],[99,85,61,87],[99,87,61,89],[100,6,62,8],[100,10,62,12,"__DEV__"],[100,17,62,19],[100,19,62,21],[101,8,63,12,"SessionUrlProvider"],[101,26,63,30],[101,27,63,31,"warnIfAnonymous"],[101,42,63,46],[101,43,63,47,"legacyExpoProjectFullName"],[101,68,63,72],[101,70,63,74,"redirectUrl"],[101,81,63,85],[101,82,63,86],[102,8,64,12],[103,6,65,8],[104,6,66,8],[104,13,66,15,"redirectUrl"],[104,24,66,26],[105,4,67,4],[106,4,68,4],[106,11,68,11,"getHostAddressQueryParams"],[106,36,68,36,"getHostAddressQueryParams"],[106,37,68,36],[106,39,68,39],[107,6,69,8],[107,10,69,12,"hostUri"],[107,17,69,19],[107,20,69,22,"Constants"],[107,29,69,31],[107,30,69,31,"default"],[107,37,69,31],[107,38,69,32,"expoConfig"],[107,48,69,42],[107,50,69,44,"hostUri"],[107,57,69,51],[108,6,70,8],[108,10,70,12],[108,11,70,13,"hostUri"],[108,18,70,20],[108,23,71,13,"ExecutionEnvironment"],[108,37,71,33],[108,38,71,33,"ExecutionEnvironment"],[108,58,71,33],[108,59,71,34,"StoreClient"],[108,70,71,45],[108,75,71,50,"Constants"],[108,84,71,59],[108,85,71,59,"default"],[108,92,71,59],[108,93,71,60,"executionEnvironment"],[108,113,71,80],[108,117,72,16,"Linking"],[108,124,72,23],[108,125,72,24,"resolveScheme"],[108,138,72,37],[108,139,72,38],[108,140,72,39],[108,141,72,40],[108,142,72,41],[108,143,72,42],[108,145,72,44],[109,8,73,12],[109,12,73,16],[109,13,73,17,"Constants"],[109,22,73,26],[109,23,73,26,"default"],[109,30,73,26],[109,31,73,27,"linkingUri"],[109,41,73,37],[109,43,73,39],[110,10,74,16,"hostUri"],[110,17,74,23],[110,20,74,26],[110,22,74,28],[111,8,75,12],[111,9,75,13],[111,15,76,17],[112,10,77,16],[113,10,78,16],[114,10,79,16,"hostUri"],[114,17,79,23],[114,20,79,26,"SessionUrlProvider"],[114,38,79,44],[114,39,79,45,"removeScheme"],[114,51,79,57],[114,52,79,58,"Constants"],[114,61,79,67],[114,62,79,67,"default"],[114,69,79,67],[114,70,79,68,"linkingUri"],[114,80,79,78],[114,81,79,79],[114,82,79,80,"replace"],[114,89,79,87],[114,90,79,88],[114,104,79,102],[114,106,79,104],[114,108,79,106],[114,109,79,107],[115,8,80,12],[116,6,81,8],[117,6,82,8],[117,10,82,12],[117,11,82,13,"hostUri"],[117,18,82,20],[117,20,82,22],[118,8,83,12],[118,15,83,19,"undefined"],[118,24,83,28],[119,6,84,8],[120,6,85,8],[120,12,85,14,"uriParts"],[120,20,85,22],[120,23,85,25,"hostUri"],[120,30,85,32],[120,32,85,34,"split"],[120,37,85,39],[120,38,85,40],[120,41,85,43],[120,42,85,44],[121,6,86,8],[121,10,86,12],[122,8,87,12],[122,15,87,19,"Object"],[122,21,87,25],[122,22,87,26,"fromEntries"],[122,33,87,37],[123,8,88,12],[124,8,89,12],[124,12,89,16,"URLSearchParams"],[124,27,89,31],[124,28,89,32,"uriParts"],[124,36,89,40],[124,39,89,43],[124,40,89,44],[124,41,89,45],[124,42,89,46],[124,43,89,47],[125,6,90,8],[125,7,90,9],[125,8,91,8],[125,14,91,14],[125,15,91,16],[126,6,92,8],[126,13,92,15,"undefined"],[126,22,92,24],[127,4,93,4],[128,4,94,4],[128,11,94,11,"warnIfAnonymous"],[128,26,94,26,"warnIfAnonymous"],[128,27,94,27,"id"],[128,29,94,29],[128,31,94,31,"url"],[128,34,94,34],[128,36,94,36],[129,6,95,8],[129,10,95,12,"id"],[129,12,95,14],[129,13,95,15,"startsWith"],[129,23,95,25],[129,24,95,26],[129,37,95,39],[129,38,95,40],[129,40,95,42],[130,8,96,12,"console"],[130,15,96,19],[130,16,96,20,"warn"],[130,20,96,24],[130,21,96,25],[130,148,96,152,"url"],[130,151,96,155],[130,468,96,472],[130,469,96,473],[131,6,97,8],[132,4,98,4],[133,4,99,4],[133,11,99,11,"removeScheme"],[133,23,99,23,"removeScheme"],[133,24,99,24,"url"],[133,27,99,27],[133,29,99,29],[134,6,100,8],[134,13,100,15,"url"],[134,16,100,18],[134,17,100,19,"replace"],[134,24,100,26],[134,25,100,27],[134,48,100,50],[134,50,100,52],[134,52,100,54],[134,53,100,55],[135,4,101,4],[136,4,102,4],[136,11,102,11,"removeLeadingSlash"],[136,29,102,29,"removeLeadingSlash"],[136,30,102,30,"url"],[136,33,102,33],[136,35,102,35],[137,6,103,8],[137,13,103,15,"url"],[137,16,103,18],[137,17,103,19,"replace"],[137,24,103,26],[137,25,103,27],[137,30,103,32],[137,32,103,34],[137,34,103,36],[137,35,103,37],[138,4,104,4],[139,2,105,0],[140,2,106,0],[140,6,106,0,"_default"],[140,14,106,0],[140,17,106,15],[140,21,106,19,"SessionUrlProvider"],[140,39,106,37],[140,40,106,38],[140,41,106,39],[141,0,106,40],[141,3]],"functionMap":{"names":["<global>","SessionUrlProvider","getDefaultReturnUrl","getStartUrl","getRedirectUrl","getHostAddressQueryParams","warnIfAnonymous","removeScheme","removeLeadingSlash"],"mappings":"AAA;OCG;ICG;KDY;IEC;KFU;IGC;KHoC;IIC;KJyB;IKC;KLI;IMC;KNE;IOC;KPE;CDC"},"hasCjsExports":false},"type":"js/module"}]}