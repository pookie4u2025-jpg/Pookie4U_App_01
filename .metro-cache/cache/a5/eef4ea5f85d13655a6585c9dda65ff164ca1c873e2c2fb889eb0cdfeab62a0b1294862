{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":42,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":58},"end":{"line":4,"column":73,"index":131}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}},{"name":"../common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":132},"end":{"line":5,"column":61,"index":193}}],"key":"tbtg/nEigFLu9LmBKxGuAsZ2sgI=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":194},"end":{"line":6,"column":66,"index":260}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useHandler = useHandler;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWorklets = require(_dependencyMap[1], \"react-native-worklets\");\n  var _common = require(_dependencyMap[2], \"../common\");\n  var _utils = require(_dependencyMap[3], \"./utils\");\n  /**\n   * Lets you find out whether the event handler dependencies have changed.\n   *\n   * @param handlers - An object of event handlers.\n   * @param dependencies - An optional array of dependencies.\n   * @returns An object containing a boolean indicating whether the dependencies\n   *   have changed, and a boolean indicating whether the code is running on the\n   *   web.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useHandler\n   */\n  // @ts-expect-error This overload is required by our API.\n\n  function useHandler(handlers, dependencies) {\n    const initRef = (0, _react.useRef)(null);\n    if (initRef.current === null) {\n      const context = (0, _reactNativeWorklets.makeShareable)({});\n      initRef.current = {\n        context,\n        savedDependencies: []\n      };\n    }\n    (0, _react.useEffect)(() => {\n      return () => {\n        initRef.current = null;\n      };\n    }, []);\n    const {\n      context,\n      savedDependencies\n    } = initRef.current;\n    for (const handlerName in handlers) {\n      if (!(0, _reactNativeWorklets.isWorkletFunction)(handlers[handlerName])) {\n        throw new _common.ReanimatedError('Passed a function that is not a worklet. Please provide a worklet function.');\n      }\n    }\n    dependencies = (0, _utils.buildDependencies)(dependencies, handlers);\n    const doDependenciesDiffer = !(0, _utils.areDependenciesEqual)(dependencies, savedDependencies);\n    initRef.current.savedDependencies = dependencies;\n    const useWeb = _common.IS_WEB || _common.IS_JEST;\n    return {\n      context,\n      doDependenciesDiffer,\n      useWeb\n    };\n  }\n});","lineCount":57,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,20,0,"exports"],[7,9,20,0],[7,10,20,0,"useHandler"],[7,20,20,0],[7,23,20,0,"useHandler"],[7,33,20,0],[8,2,3,0],[8,6,3,0,"_react"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,4,0],[9,6,4,0,"_reactNativeWorklets"],[9,26,4,0],[9,29,4,0,"require"],[9,36,4,0],[9,37,4,0,"_dependencyMap"],[9,51,4,0],[10,2,5,0],[10,6,5,0,"_common"],[10,13,5,0],[10,16,5,0,"require"],[10,23,5,0],[10,24,5,0,"_dependencyMap"],[10,38,5,0],[11,2,6,0],[11,6,6,0,"_utils"],[11,12,6,0],[11,15,6,0,"require"],[11,22,6,0],[11,23,6,0,"_dependencyMap"],[11,37,6,0],[12,2,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,2,18,0],[24,2,20,7],[24,11,20,16,"useHandler"],[24,21,20,26,"useHandler"],[24,22,20,27,"handlers"],[24,30,20,35],[24,32,20,37,"dependencies"],[24,44,20,49],[24,46,20,51],[25,4,21,2],[25,10,21,8,"initRef"],[25,17,21,15],[25,20,21,18],[25,24,21,18,"useRef"],[25,30,21,24],[25,31,21,24,"useRef"],[25,37,21,24],[25,39,21,25],[25,43,21,29],[25,44,21,30],[26,4,22,2],[26,8,22,6,"initRef"],[26,15,22,13],[26,16,22,14,"current"],[26,23,22,21],[26,28,22,26],[26,32,22,30],[26,34,22,32],[27,6,23,4],[27,12,23,10,"context"],[27,19,23,17],[27,22,23,20],[27,26,23,20,"makeShareable"],[27,46,23,33],[27,47,23,33,"makeShareable"],[27,60,23,33],[27,62,23,34],[27,63,23,35],[27,64,23,36],[27,65,23,37],[28,6,24,4,"initRef"],[28,13,24,11],[28,14,24,12,"current"],[28,21,24,19],[28,24,24,22],[29,8,25,6,"context"],[29,15,25,13],[30,8,26,6,"savedDependencies"],[30,25,26,23],[30,27,26,25],[31,6,27,4],[31,7,27,5],[32,4,28,2],[33,4,29,2],[33,8,29,2,"useEffect"],[33,14,29,11],[33,15,29,11,"useEffect"],[33,24,29,11],[33,26,29,12],[33,32,29,18],[34,6,30,4],[34,13,30,11],[34,19,30,17],[35,8,31,6,"initRef"],[35,15,31,13],[35,16,31,14,"current"],[35,23,31,21],[35,26,31,24],[35,30,31,28],[36,6,32,4],[36,7,32,5],[37,4,33,2],[37,5,33,3],[37,7,33,5],[37,9,33,7],[37,10,33,8],[38,4,34,2],[38,10,34,8],[39,6,35,4,"context"],[39,13,35,11],[40,6,36,4,"savedDependencies"],[41,4,37,2],[41,5,37,3],[41,8,37,6,"initRef"],[41,15,37,13],[41,16,37,14,"current"],[41,23,37,21],[42,4,38,2],[42,9,38,7],[42,15,38,13,"handlerName"],[42,26,38,24],[42,30,38,28,"handlers"],[42,38,38,36],[42,40,38,38],[43,6,39,4],[43,10,39,8],[43,11,39,9],[43,15,39,9,"isWorkletFunction"],[43,35,39,26],[43,36,39,26,"isWorkletFunction"],[43,53,39,26],[43,55,39,27,"handlers"],[43,63,39,35],[43,64,39,36,"handlerName"],[43,75,39,47],[43,76,39,48],[43,77,39,49],[43,79,39,51],[44,8,40,6],[44,14,40,12],[44,18,40,16,"ReanimatedError"],[44,25,40,31],[44,26,40,31,"ReanimatedError"],[44,41,40,31],[44,42,40,32],[44,119,40,109],[44,120,40,110],[45,6,41,4],[46,4,42,2],[47,4,43,2,"dependencies"],[47,16,43,14],[47,19,43,17],[47,23,43,17,"buildDependencies"],[47,29,43,34],[47,30,43,34,"buildDependencies"],[47,47,43,34],[47,49,43,35,"dependencies"],[47,61,43,47],[47,63,43,49,"handlers"],[47,71,43,57],[47,72,43,58],[48,4,44,2],[48,10,44,8,"doDependenciesDiffer"],[48,30,44,28],[48,33,44,31],[48,34,44,32],[48,38,44,32,"areDependenciesEqual"],[48,44,44,52],[48,45,44,52,"areDependenciesEqual"],[48,65,44,52],[48,67,44,53,"dependencies"],[48,79,44,65],[48,81,44,67,"savedDependencies"],[48,98,44,84],[48,99,44,85],[49,4,45,2,"initRef"],[49,11,45,9],[49,12,45,10,"current"],[49,19,45,17],[49,20,45,18,"savedDependencies"],[49,37,45,35],[49,40,45,38,"dependencies"],[49,52,45,50],[50,4,46,2],[50,10,46,8,"useWeb"],[50,16,46,14],[50,19,46,17,"IS_WEB"],[50,26,46,23],[50,27,46,23,"IS_WEB"],[50,33,46,23],[50,37,46,27,"IS_JEST"],[50,44,46,34],[50,45,46,34,"IS_JEST"],[50,52,46,34],[51,4,47,2],[51,11,47,9],[52,6,48,4,"context"],[52,13,48,11],[53,6,49,4,"doDependenciesDiffer"],[53,26,49,24],[54,6,50,4,"useWeb"],[55,4,51,2],[55,5,51,3],[56,2,52,0],[57,0,52,1],[57,3]],"functionMap":{"names":["<global>","useHandler","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCmB;YCS;WCC;KDE;GDC;CDmB"},"hasCjsExports":false},"type":"js/module"}]}