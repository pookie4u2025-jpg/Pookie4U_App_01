{"dependencies":[{"name":"../../common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":38,"index":53}}],"key":"IDJz4HWb8BkS18xB4AVSbpQcs+Y=","exportNames":["*"],"imports":1}},{"name":"./webUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":54},"end":{"line":4,"column":94,"index":148}}],"key":"cX7P7vU08c5B+Jx3zdgEZRLrQaQ=","exportNames":["*"],"imports":1}},{"name":"./JSReanimated","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":149},"end":{"line":5,"column":58,"index":207}}],"key":"Li90oE1l88YbZvrmnSpo0cKP0xM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createJSReanimatedModule\", {\n    enumerable: true,\n    get: function () {\n      return _JSReanimated.createJSReanimatedModule;\n    }\n  });\n  Object.defineProperty(exports, \"_updatePropsJS\", {\n    enumerable: true,\n    get: function () {\n      return _updatePropsJS;\n    }\n  });\n  var _common = require(_dependencyMap[0], \"../../common\");\n  var _webUtils = require(_dependencyMap[1], \"./webUtils\");\n  var _JSReanimated = require(_dependencyMap[2], \"./JSReanimated\");\n  // TODO: Move these functions outside of index file.\n  const _updatePropsJS = (updates, viewRef, isAnimatedProps) => {\n    if (viewRef) {\n      const component = viewRef.getAnimatableRef ? viewRef.getAnimatableRef() : viewRef;\n      const [rawStyles] = Object.keys(updates).reduce((acc, key) => {\n        const value = updates[key];\n        const index = typeof value === 'function' ? 1 : 0;\n        acc[index][key] = value;\n        return acc;\n      }, [{}, {}]);\n      if (typeof component.setNativeProps === 'function') {\n        // This is the legacy way to update props on React Native Web <= 0.18.\n        // Also, some components (e.g. from react-native-svg) don't have styles\n        // and always provide setNativeProps function instead (even on React Native Web 0.19+).\n        setNativeProps(component, rawStyles, isAnimatedProps);\n      } else if (_webUtils.createReactDOMStyle !== undefined && component.style !== undefined) {\n        // React Native Web 0.19+ no longer provides setNativeProps function,\n        // so we need to update DOM nodes directly.\n        updatePropsDOM(component, rawStyles, isAnimatedProps);\n      } else if (Object.keys(component.props).length > 0) {\n        Object.keys(component.props).forEach(key => {\n          if (!rawStyles[key]) {\n            return;\n          }\n          const dashedKey = key.replace(/[A-Z]/g, m => '-' + m.toLowerCase());\n          component._touchableNode.setAttribute(dashedKey, rawStyles[key]);\n        });\n      } else {\n        const componentName = 'className' in component ? component?.className : '';\n        _common.logger.warn(`It's not possible to manipulate the component ${componentName}`);\n      }\n    }\n  };\n  const setNativeProps = (component, newProps, isAnimatedProps) => {\n    if (isAnimatedProps) {\n      // Only update UI props directly on the component,\n      // other props can be updated as standard style props.\n      component.setNativeProps?.(newProps);\n    }\n    const previousStyle = component.previousStyle ? component.previousStyle : {};\n    const currentStyle = Object.assign({}, previousStyle, newProps);\n    component.previousStyle = currentStyle;\n    component.setNativeProps?.({\n      style: currentStyle\n    });\n  };\n  const updatePropsDOM = (component, style, isAnimatedProps) => {\n    const previousStyle = component.previousStyle ? component.previousStyle : {};\n    const currentStyle = Object.assign({}, previousStyle, style);\n    component.previousStyle = currentStyle;\n    const domStyle = (0, _webUtils.createReactDOMStyle)(currentStyle);\n    if (Array.isArray(domStyle.transform) && _webUtils.createTransformValue !== undefined) {\n      domStyle.transform = (0, _webUtils.createTransformValue)(domStyle.transform);\n    }\n    if (_webUtils.createTextShadowValue !== undefined && (domStyle.textShadowColor || domStyle.textShadowRadius || domStyle.textShadowOffset)) {\n      domStyle.textShadow = (0, _webUtils.createTextShadowValue)({\n        textShadowColor: domStyle.textShadowColor,\n        textShadowOffset: domStyle.textShadowOffset,\n        textShadowRadius: domStyle.textShadowRadius\n      });\n    }\n    for (const key in domStyle) {\n      if (isAnimatedProps) {\n        // We need to explicitly set the 'text' property on input component because React Native's\n        // internal _valueTracker (https://github.com/facebook/react/blob/main/packages/react-dom-bindings/src/client/inputValueTracking.js)\n        // prevents updates when only modifying attributes.\n        if (component.nodeName === 'INPUT' && key === 'text') {\n          component.value = domStyle[key];\n        } else {\n          component.setAttribute(key, domStyle[key]);\n        }\n      } else {\n        component.style[key] = domStyle[key];\n      }\n    }\n  };\n});","lineCount":98,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"_JSReanimated"],[10,26,5,0],[10,27,5,0,"createJSReanimatedModule"],[10,51,5,0],[11,4,5,0],[12,2,5,0],[13,2,7,0,"Object"],[13,8,7,0],[13,9,7,0,"defineProperty"],[13,23,7,0],[13,24,7,0,"exports"],[13,31,7,0],[14,4,7,0,"enumerable"],[14,14,7,0],[15,4,7,0,"get"],[15,7,7,0],[15,18,7,0,"get"],[15,19,7,0],[16,6,7,0],[16,13,7,0,"_updatePropsJS"],[16,27,7,0],[17,4,7,0],[18,2,7,0],[19,2,3,0],[19,6,3,0,"_common"],[19,13,3,0],[19,16,3,0,"require"],[19,23,3,0],[19,24,3,0,"_dependencyMap"],[19,38,3,0],[20,2,4,0],[20,6,4,0,"_webUtils"],[20,15,4,0],[20,18,4,0,"require"],[20,25,4,0],[20,26,4,0,"_dependencyMap"],[20,40,4,0],[21,2,5,0],[21,6,5,0,"_JSReanimated"],[21,19,5,0],[21,22,5,0,"require"],[21,29,5,0],[21,30,5,0,"_dependencyMap"],[21,44,5,0],[22,2,6,0],[23,2,7,7],[23,8,7,13,"_updatePropsJS"],[23,22,7,27],[23,25,7,30,"_updatePropsJS"],[23,26,7,31,"updates"],[23,33,7,38],[23,35,7,40,"viewRef"],[23,42,7,47],[23,44,7,49,"isAnimatedProps"],[23,59,7,64],[23,64,7,69],[24,4,8,2],[24,8,8,6,"viewRef"],[24,15,8,13],[24,17,8,15],[25,6,9,4],[25,12,9,10,"component"],[25,21,9,19],[25,24,9,22,"viewRef"],[25,31,9,29],[25,32,9,30,"getAnimatableRef"],[25,48,9,46],[25,51,9,49,"viewRef"],[25,58,9,56],[25,59,9,57,"getAnimatableRef"],[25,75,9,73],[25,76,9,74],[25,77,9,75],[25,80,9,78,"viewRef"],[25,87,9,85],[26,6,10,4],[26,12,10,10],[26,13,10,11,"rawStyles"],[26,22,10,20],[26,23,10,21],[26,26,10,24,"Object"],[26,32,10,30],[26,33,10,31,"keys"],[26,37,10,35],[26,38,10,36,"updates"],[26,45,10,43],[26,46,10,44],[26,47,10,45,"reduce"],[26,53,10,51],[26,54,10,52],[26,55,10,53,"acc"],[26,58,10,56],[26,60,10,58,"key"],[26,63,10,61],[26,68,10,66],[27,8,11,6],[27,14,11,12,"value"],[27,19,11,17],[27,22,11,20,"updates"],[27,29,11,27],[27,30,11,28,"key"],[27,33,11,31],[27,34,11,32],[28,8,12,6],[28,14,12,12,"index"],[28,19,12,17],[28,22,12,20],[28,29,12,27,"value"],[28,34,12,32],[28,39,12,37],[28,49,12,47],[28,52,12,50],[28,53,12,51],[28,56,12,54],[28,57,12,55],[29,8,13,6,"acc"],[29,11,13,9],[29,12,13,10,"index"],[29,17,13,15],[29,18,13,16],[29,19,13,17,"key"],[29,22,13,20],[29,23,13,21],[29,26,13,24,"value"],[29,31,13,29],[30,8,14,6],[30,15,14,13,"acc"],[30,18,14,16],[31,6,15,4],[31,7,15,5],[31,9,15,7],[31,10,15,8],[31,11,15,9],[31,12,15,10],[31,14,15,12],[31,15,15,13],[31,16,15,14],[31,17,15,15],[31,18,15,16],[32,6,16,4],[32,10,16,8],[32,17,16,15,"component"],[32,26,16,24],[32,27,16,25,"setNativeProps"],[32,41,16,39],[32,46,16,44],[32,56,16,54],[32,58,16,56],[33,8,17,6],[34,8,18,6],[35,8,19,6],[36,8,20,6,"setNativeProps"],[36,22,20,20],[36,23,20,21,"component"],[36,32,20,30],[36,34,20,32,"rawStyles"],[36,43,20,41],[36,45,20,43,"isAnimatedProps"],[36,60,20,58],[36,61,20,59],[37,6,21,4],[37,7,21,5],[37,13,21,11],[37,17,21,15,"createReactDOMStyle"],[37,26,21,34],[37,27,21,34,"createReactDOMStyle"],[37,46,21,34],[37,51,21,39,"undefined"],[37,60,21,48],[37,64,21,52,"component"],[37,73,21,61],[37,74,21,62,"style"],[37,79,21,67],[37,84,21,72,"undefined"],[37,93,21,81],[37,95,21,83],[38,8,22,6],[39,8,23,6],[40,8,24,6,"updatePropsDOM"],[40,22,24,20],[40,23,24,21,"component"],[40,32,24,30],[40,34,24,32,"rawStyles"],[40,43,24,41],[40,45,24,43,"isAnimatedProps"],[40,60,24,58],[40,61,24,59],[41,6,25,4],[41,7,25,5],[41,13,25,11],[41,17,25,15,"Object"],[41,23,25,21],[41,24,25,22,"keys"],[41,28,25,26],[41,29,25,27,"component"],[41,38,25,36],[41,39,25,37,"props"],[41,44,25,42],[41,45,25,43],[41,46,25,44,"length"],[41,52,25,50],[41,55,25,53],[41,56,25,54],[41,58,25,56],[42,8,26,6,"Object"],[42,14,26,12],[42,15,26,13,"keys"],[42,19,26,17],[42,20,26,18,"component"],[42,29,26,27],[42,30,26,28,"props"],[42,35,26,33],[42,36,26,34],[42,37,26,35,"forEach"],[42,44,26,42],[42,45,26,43,"key"],[42,48,26,46],[42,52,26,50],[43,10,27,8],[43,14,27,12],[43,15,27,13,"rawStyles"],[43,24,27,22],[43,25,27,23,"key"],[43,28,27,26],[43,29,27,27],[43,31,27,29],[44,12,28,10],[45,10,29,8],[46,10,30,8],[46,16,30,14,"dashedKey"],[46,25,30,23],[46,28,30,26,"key"],[46,31,30,29],[46,32,30,30,"replace"],[46,39,30,37],[46,40,30,38],[46,48,30,46],[46,50,30,48,"m"],[46,51,30,49],[46,55,30,53],[46,58,30,56],[46,61,30,59,"m"],[46,62,30,60],[46,63,30,61,"toLowerCase"],[46,74,30,72],[46,75,30,73],[46,76,30,74],[46,77,30,75],[47,10,31,8,"component"],[47,19,31,17],[47,20,31,18,"_touchableNode"],[47,34,31,32],[47,35,31,33,"setAttribute"],[47,47,31,45],[47,48,31,46,"dashedKey"],[47,57,31,55],[47,59,31,57,"rawStyles"],[47,68,31,66],[47,69,31,67,"key"],[47,72,31,70],[47,73,31,71],[47,74,31,72],[48,8,32,6],[48,9,32,7],[48,10,32,8],[49,6,33,4],[49,7,33,5],[49,13,33,11],[50,8,34,6],[50,14,34,12,"componentName"],[50,27,34,25],[50,30,34,28],[50,41,34,39],[50,45,34,43,"component"],[50,54,34,52],[50,57,34,55,"component"],[50,66,34,64],[50,68,34,66,"className"],[50,77,34,75],[50,80,34,78],[50,82,34,80],[51,8,35,6,"logger"],[51,15,35,12],[51,16,35,12,"logger"],[51,22,35,12],[51,23,35,13,"warn"],[51,27,35,17],[51,28,35,18],[51,77,35,67,"componentName"],[51,90,35,80],[51,92,35,82],[51,93,35,83],[52,6,36,4],[53,4,37,2],[54,2,38,0],[54,3,38,1],[55,2,39,0],[55,8,39,6,"setNativeProps"],[55,22,39,20],[55,25,39,23,"setNativeProps"],[55,26,39,24,"component"],[55,35,39,33],[55,37,39,35,"newProps"],[55,45,39,43],[55,47,39,45,"isAnimatedProps"],[55,62,39,60],[55,67,39,65],[56,4,40,2],[56,8,40,6,"isAnimatedProps"],[56,23,40,21],[56,25,40,23],[57,6,41,4],[58,6,42,4],[59,6,43,4,"component"],[59,15,43,13],[59,16,43,14,"setNativeProps"],[59,30,43,28],[59,33,43,31,"newProps"],[59,41,43,39],[59,42,43,40],[60,4,44,2],[61,4,45,2],[61,10,45,8,"previousStyle"],[61,23,45,21],[61,26,45,24,"component"],[61,35,45,33],[61,36,45,34,"previousStyle"],[61,49,45,47],[61,52,45,50,"component"],[61,61,45,59],[61,62,45,60,"previousStyle"],[61,75,45,73],[61,78,45,76],[61,79,45,77],[61,80,45,78],[62,4,46,2],[62,10,46,8,"currentStyle"],[62,22,46,20],[62,25,46,20,"Object"],[62,31,46,20],[62,32,46,20,"assign"],[62,38,46,20],[62,43,47,7,"previousStyle"],[62,56,47,20],[62,58,48,7,"newProps"],[62,66,48,15],[62,67,49,3],[63,4,50,2,"component"],[63,13,50,11],[63,14,50,12,"previousStyle"],[63,27,50,25],[63,30,50,28,"currentStyle"],[63,42,50,40],[64,4,51,2,"component"],[64,13,51,11],[64,14,51,12,"setNativeProps"],[64,28,51,26],[64,31,51,29],[65,6,52,4,"style"],[65,11,52,9],[65,13,52,11,"currentStyle"],[66,4,53,2],[66,5,53,3],[66,6,53,4],[67,2,54,0],[67,3,54,1],[68,2,55,0],[68,8,55,6,"updatePropsDOM"],[68,22,55,20],[68,25,55,23,"updatePropsDOM"],[68,26,55,24,"component"],[68,35,55,33],[68,37,55,35,"style"],[68,42,55,40],[68,44,55,42,"isAnimatedProps"],[68,59,55,57],[68,64,55,62],[69,4,56,2],[69,10,56,8,"previousStyle"],[69,23,56,21],[69,26,56,24,"component"],[69,35,56,33],[69,36,56,34,"previousStyle"],[69,49,56,47],[69,52,56,50,"component"],[69,61,56,59],[69,62,56,60,"previousStyle"],[69,75,56,73],[69,78,56,76],[69,79,56,77],[69,80,56,78],[70,4,57,2],[70,10,57,8,"currentStyle"],[70,22,57,20],[70,25,57,20,"Object"],[70,31,57,20],[70,32,57,20,"assign"],[70,38,57,20],[70,43,58,7,"previousStyle"],[70,56,58,20],[70,58,59,7,"style"],[70,63,59,12],[70,64,60,3],[71,4,61,2,"component"],[71,13,61,11],[71,14,61,12,"previousStyle"],[71,27,61,25],[71,30,61,28,"currentStyle"],[71,42,61,40],[72,4,62,2],[72,10,62,8,"domStyle"],[72,18,62,16],[72,21,62,19],[72,25,62,19,"createReactDOMStyle"],[72,34,62,38],[72,35,62,38,"createReactDOMStyle"],[72,54,62,38],[72,56,62,39,"currentStyle"],[72,68,62,51],[72,69,62,52],[73,4,63,2],[73,8,63,6,"Array"],[73,13,63,11],[73,14,63,12,"isArray"],[73,21,63,19],[73,22,63,20,"domStyle"],[73,30,63,28],[73,31,63,29,"transform"],[73,40,63,38],[73,41,63,39],[73,45,63,43,"createTransformValue"],[73,54,63,63],[73,55,63,63,"createTransformValue"],[73,75,63,63],[73,80,63,68,"undefined"],[73,89,63,77],[73,91,63,79],[74,6,64,4,"domStyle"],[74,14,64,12],[74,15,64,13,"transform"],[74,24,64,22],[74,27,64,25],[74,31,64,25,"createTransformValue"],[74,40,64,45],[74,41,64,45,"createTransformValue"],[74,61,64,45],[74,63,64,46,"domStyle"],[74,71,64,54],[74,72,64,55,"transform"],[74,81,64,64],[74,82,64,65],[75,4,65,2],[76,4,66,2],[76,8,66,6,"createTextShadowValue"],[76,17,66,27],[76,18,66,27,"createTextShadowValue"],[76,39,66,27],[76,44,66,32,"undefined"],[76,53,66,41],[76,58,66,46,"domStyle"],[76,66,66,54],[76,67,66,55,"textShadowColor"],[76,82,66,70],[76,86,66,74,"domStyle"],[76,94,66,82],[76,95,66,83,"textShadowRadius"],[76,111,66,99],[76,115,66,103,"domStyle"],[76,123,66,111],[76,124,66,112,"textShadowOffset"],[76,140,66,128],[76,141,66,129],[76,143,66,131],[77,6,67,4,"domStyle"],[77,14,67,12],[77,15,67,13,"textShadow"],[77,25,67,23],[77,28,67,26],[77,32,67,26,"createTextShadowValue"],[77,41,67,47],[77,42,67,47,"createTextShadowValue"],[77,63,67,47],[77,65,67,48],[78,8,68,6,"textShadowColor"],[78,23,68,21],[78,25,68,23,"domStyle"],[78,33,68,31],[78,34,68,32,"textShadowColor"],[78,49,68,47],[79,8,69,6,"textShadowOffset"],[79,24,69,22],[79,26,69,24,"domStyle"],[79,34,69,32],[79,35,69,33,"textShadowOffset"],[79,51,69,49],[80,8,70,6,"textShadowRadius"],[80,24,70,22],[80,26,70,24,"domStyle"],[80,34,70,32],[80,35,70,33,"textShadowRadius"],[81,6,71,4],[81,7,71,5],[81,8,71,6],[82,4,72,2],[83,4,73,2],[83,9,73,7],[83,15,73,13,"key"],[83,18,73,16],[83,22,73,20,"domStyle"],[83,30,73,28],[83,32,73,30],[84,6,74,4],[84,10,74,8,"isAnimatedProps"],[84,25,74,23],[84,27,74,25],[85,8,75,6],[86,8,76,6],[87,8,77,6],[88,8,78,6],[88,12,78,10,"component"],[88,21,78,19],[88,22,78,20,"nodeName"],[88,30,78,28],[88,35,78,33],[88,42,78,40],[88,46,78,44,"key"],[88,49,78,47],[88,54,78,52],[88,60,78,58],[88,62,78,60],[89,10,79,8,"component"],[89,19,79,17],[89,20,79,18,"value"],[89,25,79,23],[89,28,79,26,"domStyle"],[89,36,79,34],[89,37,79,35,"key"],[89,40,79,38],[89,41,79,39],[90,8,80,6],[90,9,80,7],[90,15,80,13],[91,10,81,8,"component"],[91,19,81,17],[91,20,81,18,"setAttribute"],[91,32,81,30],[91,33,81,31,"key"],[91,36,81,34],[91,38,81,36,"domStyle"],[91,46,81,44],[91,47,81,45,"key"],[91,50,81,48],[91,51,81,49],[91,52,81,50],[92,8,82,6],[93,6,83,4],[93,7,83,5],[93,13,83,11],[94,8,84,6,"component"],[94,17,84,15],[94,18,84,16,"style"],[94,23,84,21],[94,24,84,22,"key"],[94,27,84,25],[94,28,84,26],[94,31,84,29,"domStyle"],[94,39,84,37],[94,40,84,38,"key"],[94,43,84,41],[94,44,84,42],[95,6,85,4],[96,4,86,2],[97,2,87,0],[97,3,87,1],[98,0,87,2],[98,3]],"functionMap":{"names":["<global>","_updatePropsJS","Object.keys.reduce$argument_0","Object.keys.forEach$argument_0","key.replace$argument_1","setNativeProps","updatePropsDOM"],"mappings":"AAA;8BCM;oDCG;KDK;2CEW;gDCI,0BD;OFE;CDM;uBKC;CLe;uBMC;CNgC"},"hasCjsExports":false},"type":"js/module"}]}