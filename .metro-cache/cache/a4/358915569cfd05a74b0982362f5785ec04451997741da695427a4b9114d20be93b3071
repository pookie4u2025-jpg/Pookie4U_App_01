{"dependencies":[{"name":"./PlatformChecker/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":63,"index":78}}],"key":"7ARm8SlqIbvg6rYrJapShK03IU4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"serializableMappingFlag\", {\n    enumerable: true,\n    get: function () {\n      return serializableMappingFlag;\n    }\n  });\n  Object.defineProperty(exports, \"serializableMappingCache\", {\n    enumerable: true,\n    get: function () {\n      return serializableMappingCache;\n    }\n  });\n  var _PlatformCheckerIndexJs = require(_dependencyMap[0], \"./PlatformChecker/index.js\");\n  /**\n   * This symbol is used to represent a mapping from the value to itself.\n   *\n   * It's used to prevent converting a serializable that's already converted - for\n   * example a Shared Value that's in worklet's closure.\n   */\n  const serializableMappingFlag = Symbol('serializable flag');\n\n  /*\n  During a fast refresh, React holds the same instance of a Mutable\n  (that's guaranteed by `useRef`) but `serializableCache` gets regenerated and thus\n  becoming empty. This happens when editing the file that contains the definition of this cache.\n  \n  Because of it, `createSerializable` can't find given mapping\n  in `serializableCache` for the Mutable and tries to clone it as if it was a regular JS object.\n  During cloning we use `Object.entries` to iterate over the keys which throws an error on accessing `_value`.\n  For convenience we moved this cache to a separate file so it doesn't scare us with red squiggles.\n  */\n\n  const cache = _PlatformCheckerIndexJs.SHOULD_BE_USE_WEB ? null : new WeakMap();\n  const serializableMappingCache = _PlatformCheckerIndexJs.SHOULD_BE_USE_WEB ? {\n    set() {\n      // NOOP\n    },\n    get() {\n      return null;\n    }\n  } : {\n    set(serializable, serializableRef) {\n      cache.set(serializable, serializableRef || serializableMappingFlag);\n    },\n    get: cache.get.bind(cache)\n  };\n});","lineCount":53,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,10,0,"Object"],[7,8,10,0],[7,9,10,0,"defineProperty"],[7,23,10,0],[7,24,10,0,"exports"],[7,31,10,0],[8,4,10,0,"enumerable"],[8,14,10,0],[9,4,10,0,"get"],[9,7,10,0],[9,18,10,0,"get"],[9,19,10,0],[10,6,10,0],[10,13,10,0,"serializableMappingFlag"],[10,36,10,0],[11,4,10,0],[12,2,10,0],[13,2,24,0,"Object"],[13,8,24,0],[13,9,24,0,"defineProperty"],[13,23,24,0],[13,24,24,0,"exports"],[13,31,24,0],[14,4,24,0,"enumerable"],[14,14,24,0],[15,4,24,0,"get"],[15,7,24,0],[15,18,24,0,"get"],[15,19,24,0],[16,6,24,0],[16,13,24,0,"serializableMappingCache"],[16,37,24,0],[17,4,24,0],[18,2,24,0],[19,2,3,0],[19,6,3,0,"_PlatformCheckerIndexJs"],[19,29,3,0],[19,32,3,0,"require"],[19,39,3,0],[19,40,3,0,"_dependencyMap"],[19,54,3,0],[20,2,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,2,10,7],[26,8,10,13,"serializableMappingFlag"],[26,31,10,36],[26,34,10,39,"Symbol"],[26,40,10,45],[26,41,10,46],[26,60,10,65],[26,61,10,66],[28,2,12,0],[29,0,13,0],[30,0,14,0],[31,0,15,0],[32,0,16,0],[33,0,17,0],[34,0,18,0],[35,0,19,0],[36,0,20,0],[37,0,21,0],[39,2,23,0],[39,8,23,6,"cache"],[39,13,23,11],[39,16,23,14,"SHOULD_BE_USE_WEB"],[39,39,23,31],[39,40,23,31,"SHOULD_BE_USE_WEB"],[39,57,23,31],[39,60,23,34],[39,64,23,38],[39,67,23,41],[39,71,23,45,"WeakMap"],[39,78,23,52],[39,79,23,53],[39,80,23,54],[40,2,24,7],[40,8,24,13,"serializableMappingCache"],[40,32,24,37],[40,35,24,40,"SHOULD_BE_USE_WEB"],[40,58,24,57],[40,59,24,57,"SHOULD_BE_USE_WEB"],[40,76,24,57],[40,79,24,60],[41,4,25,2,"set"],[41,7,25,5,"set"],[41,8,25,5],[41,10,25,8],[42,6,26,4],[43,4,26,4],[43,5,27,3],[44,4,28,2,"get"],[44,7,28,5,"get"],[44,8,28,5],[44,10,28,8],[45,6,29,4],[45,13,29,11],[45,17,29,15],[46,4,30,2],[47,2,31,0],[47,3,31,1],[47,6,31,4],[48,4,32,2,"set"],[48,7,32,5,"set"],[48,8,32,6,"serializable"],[48,20,32,18],[48,22,32,20,"serializableRef"],[48,37,32,35],[48,39,32,37],[49,6,33,4,"cache"],[49,11,33,9],[49,12,33,10,"set"],[49,15,33,13],[49,16,33,14,"serializable"],[49,28,33,26],[49,30,33,28,"serializableRef"],[49,45,33,43],[49,49,33,47,"serializableMappingFlag"],[49,72,33,70],[49,73,33,71],[50,4,34,2],[50,5,34,3],[51,4,35,2,"get"],[51,7,35,5],[51,9,35,7,"cache"],[51,14,35,12],[51,15,35,13,"get"],[51,18,35,16],[51,19,35,17,"bind"],[51,23,35,21],[51,24,35,22,"cache"],[51,29,35,27],[52,2,36,0],[52,3,36,1],[53,0,36,2],[53,3]],"functionMap":{"names":["<global>","set","get"],"mappings":"AAA;ECwB;GDE;EEC;GFE;ECE;GDE"},"hasCjsExports":false},"type":"js/module"}]}